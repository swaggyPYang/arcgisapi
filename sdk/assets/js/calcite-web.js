/*! ArcGIS API for JavaScript 4.9 | Copyright (c) 2018 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.calcite=e()}(this,function(){"use strict";function d(t,e){var n;for(n=e;n;n=n.parentNode){var r=new RegExp("(\\s|^)"+t+"(\\s|$)").test(n.getAttribute("class"));if(1===n.nodeType&&r)break}return n}function m(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function l(t,e){return m((e||document).querySelectorAll(t))}function b(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.getAttribute("class"))}function h(n,t){t.split(" ").forEach(function(t){if(!b(n,t)){var e=n.getAttribute("class")||"";n.setAttribute("class",e+" "+t)}})}function w(n,t){t.split(" ").forEach(function(t){var e=(n.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");b(n,t)&&n.setAttribute("class",e)})}function i(t,e){b(t,e)?w(t,e):h(t,e)}function g(t){(t=m(t)).forEach(function(t){w(t,"is-active")})}function c(t,e){g(t),h(e,"is-active")}function f(t){t.forEach(function(t){t&&t.setAttribute("aria-hidden",!0)})}function v(t){t.forEach(function(t){t&&t.removeAttribute("aria-hidden")})}function e(t){t&&(t.getAttribute("aria-expanded")?t.removeAttribute("aria-expanded"):t.setAttribute("aria-expanded","true"))}var r={dropdowns:[],accordions:[]};function t(){return"click"}function y(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0}function p(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):void 0}function n(t){return t.target||t.srcElement}function k(t){if(t.preventDefault)return t.preventDefault();t.returnValue&&(t.returnValue=!1)}function o(t){if((t=t||window.event).stopPropagation)return t.stopPropagation();t.cancelBubble&&(t.cancelBubble=!0)}function a(t,e,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function u(){}u.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}};var A=new u;function s(t){o(t);var e=d("accordion-section",n(t));A.emit("accordion:toggle",{node:e})}function E(t){i(t.node,"is-active"),e(t.node)}function j(t){13===t.keyCode&&b(n(t),"accordion-title")&&s(t)}function S(t){var e=l(".js-accordion");t?x(t.node):e.forEach(function(t){x(t)})}function x(t){t.setAttribute("aria-live","polite"),t.setAttribute("role","tablist"),m(t.children).forEach(function(t){var e=t.querySelector(".accordion-title");e.setAttribute("role","tab"),e.setAttribute("tabindex","0"),b(t,"is-active")&&t.setAttribute("aria-expanded","true");var n=!1;r.accordions.forEach(function(t){t.target===e&&"click"===t.event&&t.fn===s&&(n=!0)}),n||(r.accordions.push({target:e,event:"click",fn:s}),r.accordions.push({target:t,event:"keyup",fn:j}),y(e,"click",s),y(t,"keyup",j))})}var q=!1;function D(){q||(A.on("accordion:bind",S),A.on("accordion:toggle",E),q=!0),A.emit("accordion:bind")}function C(t){p(document.body,"click",C),l(".js-dropdown").forEach(function(t){w(t,"is-active")}),l(".js-dropdown-toggle").forEach(function(t){t.setAttribute("aria-expanded","false")}),p(document,"keydown",L)}function T(t){if(t){var e=b(t.node,"is-active");A.emit("dropdown:close"),e||(h(t.node,"is-active"),t.target&&t.target.setAttribute("aria-expanded","true"),y(document,"keydown",L)),b(t.node,"is-active")&&y(document.body,"click",C)}}function L(t){40===t.keyCode|38===t.keyCode&&t.preventDefault()}function O(){var t=document.querySelector(".js-dropdown.is-active");return t||!1}function M(t){var e=document.activeElement,n=t.links.indexOf(e);-1===n?n=t.forward?0:t.links.length-1:t.forward?(n+=1)===t.links.length&&(n=0):-1===(n-=1)&&(n=t.links.length-1),t.links[n].focus()}function P(){var t=O();if(t){var e=l(".dropdown-link",t);A.emit("dropdown:focus",{links:e,forward:!0})}}function z(){var t=O();if(t){var e=l(".dropdown-link",t);A.emit("dropdown:focus",{links:e,forward:!1})}}function H(t){k(t),o(t);var e=d("js-dropdown",t.target);A.emit("dropdown:toggle",{node:e,target:t.target})}var N=!1;function $(){N||(A.on("dropdown:toggle",T),A.on("dropdown:close",C),A.on("keyboard:escape",C),A.on("keyboard:arrow:down",P),A.on("keyboard:arrow:up",z),A.on("dropdown:focus",M),N=!0),l(".js-dropdown-toggle").forEach(function(e){var n=!1;r.dropdowns.forEach(function(t){t.target===e&&"click"===t.event&&t.fn===H&&(n=!0)}),n||(r.dropdowns.push({target:e,event:"click",fn:H}),y(e,"click",H))})}function B(){var n=document.querySelector(".wrapper"),r=document.querySelector(".footer"),e=l(".js-drawer-toggle"),o=l(".js-drawer");function t(t){if(t){var e=document.querySelector('.js-drawer[data-drawer="'+t.id+'"]');e.removeAttribute("tabindex"),w(e,"is-active")}else o.forEach(function(t){t.removeAttribute("tabindex"),w(t,"is-active")});v([n,r]),p(document,"focusin",i),w(document.documentElement,"drawer-no-overflow")}function i(t){d("js-drawer",t.target)||o.forEach(function(t){b(t,"is-active")&&t.focus()})}function a(t){b(t.target,"js-drawer")&&A.emit("drawer:close")}function c(t){k(t);var e=t.target.getAttribute("data-drawer");A.emit("drawer:open",{id:e})}A.on("drawer:open",function(t){A.emit("drawer:close");var e=document.querySelector('.js-drawer[data-drawer="'+t.id+'"]');e.setAttribute("tabindex",0),h(e,"is-active"),h(document.documentElement,"drawer-no-overflow"),f([n,r]),y(e,"click",a),y(document,"focusin",i)}),A.on("keyboard:escape",t),A.on("drawer:close",t),A.on("drawer:bind",function(t){t?y(t.node,"click",c):e.forEach(function(t){y(t,"click",c)})}),A.emit("drawer:bind")}function I(){function n(t){var e=d("js-filter-dropdown",t.target);return{parent:e,id:e.getAttribute("data-filter-dropdown"),item:t.target}}function f(t){o(t);var e=n(t);A.emit("filterDropdown:input:focus",e)}function v(t){k(t),o(t);var e=n(t);A.emit("filterDropdown:select",e)}function p(t){t.preventDefault();var e=n(t);i(t.target,"is-active"),A.emit("filterDropdown:toggle",e)}function r(t){g(document.querySelectorAll(".filter-dropdown-list"));var e=l(".js-filter-dropdown-open"),n=l(".js-filter-dropdown-close");e.forEach(function(t){return h(t,"is-active")}),n.forEach(function(t){return w(t,"is-active")})}function a(t){t.preventDefault();var e=n(t);e.i=t.target.getAttribute("data-item-id"),A.emit("filterDropdown:select:remove",e)}A.on("filterDropdown:bind",function(){l(".js-filter-dropdown").forEach(function(t){var e=t.getAttribute("data-filter-dropdown"),o=t.querySelector(".filter-dropdown-input");y(o,"focus",f);for(var n=t.querySelectorAll(".js-filter-dropdown-open"),r=0;r<n.length;r++){var i=n[r];i.setAttribute("data-id",e),y(i,"click",p)}for(var a=t.querySelectorAll(".js-filter-dropdown-close"),c=0;c<a.length;c++){var d=a[c];d.setAttribute("data-id",e),y(d,"click",p)}for(var u=t.querySelectorAll(".filter-dropdown-link"),s=0;s<u.length;s++){var l=u[s];l.setAttribute("data-item-id",s),y(l,"click",v)}y(o,"keyup",function(t){var n,e,r=m(u);r.forEach(function(t){h(t,"hide")}),(n=o.value,e=r,e.filter(function(t){var e=n.toLowerCase();return-1!==t.innerHTML.toLowerCase().indexOf(e)})).forEach(function(t){w(t,"hide")})})})}),A.on("filterDropdown:select",function(t){i(t.item,"is-active")}),A.on("filterDropdown:select",function(t){var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:t.parent,id:t.id,active:e};A.emit("filterDropdown:active",n)}),A.on("filterDropdown:select:remove",function(t){w(t.parent.querySelectorAll(".filter-dropdown-link.is-active")[t.i],"is-active");var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:t.parent,id:t.id,active:e};A.emit("filterDropdown:active",n)}),A.on("filterDropdown:active",function(t){A.emit("filterDropdown:active:clear",t);var e=t.parent.querySelector(".js-flilter-dropdown-no-filters");0<t.active.length?h(e,"hide"):w(e,"hide");for(var n=0;n<t.active.length;n++){var r=t.active[n],o='<span class="filter-dropdown-active">\n        '+r.innerHTML+'\n        <a class="filter-dropdown-remove" href="#" data-item-id=\''+n+'\'>\n          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32" class="svg-icon"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg>\n        </a>\n      </span>';t.parent.insertAdjacentHTML("beforeend",o);var i=t.parent.querySelector('.filter-dropdown-remove[data-item-id="'+n+'"]');y(i,"click",a)}}),A.on("filterDropdown:active:clear",function(t){for(var e=t.parent.querySelectorAll(".filter-dropdown-active"),n=0;n<e.length;n++)t.parent.removeChild(e[n])}),A.on("filterDropdown:toggle",function(t){b(t.parent.querySelector(".filter-dropdown-list"),"is-active")?A.emit("filterDropdown:close",t):A.emit("filterDropdown:open",t)}),A.on("filterDropdown:open",function(t){r(),h(t.parent.querySelector(".filter-dropdown-list"),"is-active");var e=l(".js-filter-dropdown-close",t.parent);l(".js-filter-dropdown-open",t.parent).forEach(function(t){return w(t,"is-active")}),e.forEach(function(t){return h(t,"is-active")})}),A.on("filterDropdown:close",r),A.on("keyboard:escape",r),A.emit("filterDropdown:bind")}function R(){var r,o,i=document.documentElement,e=document.querySelector(".wrapper"),n=document.querySelector(".footer"),a=l(".js-modal-toggle"),c=l(".js-modal");function d(){var t=[];return e&&t.push(e),n&&t.push(n),t}function t(t){if(b(i,"drawer-no-overflow")&&w(i,"drawer-no-overflow"),!t)return g(c);var e=document.querySelector('.js-modal[data-modal="'+t.id+'"]');w(e,"is-active"),e.setAttribute("tabindex",0),p(document,"keydown",u),v(d())}function u(t){("Tab"===t.key||9===t.keyCode)&&(t.shiftKey?document.activeElement===r&&(o&&o.focus(),t.preventDefault()):document.activeElement===o&&(r&&r.focus(),t.preventDefault()))}function s(t){k(t);var e=t.target.getAttribute("data-modal");A.emit("modal:open",{id:e})}A.on("modal:open",function(t){if(A.emit("modal:close"),!t||!t.id)return;var e=document.querySelector('.js-modal[data-modal="'+t.id+'"]');e.removeAttribute("tabindex"),y(document,"keydown",u),h(e,"is-active"),h(i,"drawer-no-overflow"),f(d());var n=l("button, [href], input, select, textarea, [tabindex]",e).filter(function(t){return!t.disabled&&-1!==t.tabIndex&&0<t.offsetHeight});r=n.shift(),o=n.pop(),r&&r.focus()}),A.on("keyboard:escape",t),A.on("modal:close",t),A.on("modal:bind",function(t){t?y(t,"click",s):a.forEach(function(t){y(t,"click",s)})}),A.emit("modal:bind")}function Y(){var n=l(".js-search-toggle"),r=l(".js-search")[0];function o(t){var e=t.querySelector(".js-search-icon"),n=t.querySelector(".js-close-icon");i(e,"hide"),i(n,"hide"),i(r,"is-active"),i(document.body,"overflow-hidden"),A.emit("search:focus")}function e(t){k(t),A.emit("search:toggle",t.target)}A.on("search:bind",function(t){t?y(t,"click",e):n.forEach(function(t){y(t,"click",e)})}),A.on("search:toggle",o),A.on("keyboard:escape",function(){if(b(r,"is-active")){w(r,"is-active"),w(document.body,"overflow-hidden");var t=m(n);t.forEach(o);var e=document.querySelector(".js-search-input");e&&e.blur()}}),A.on("search:focus",function(){document.querySelector(".js-search-input").focus()}),A.emit("search:bind")}function G(){A.on("selectnav:bind",function(){t.forEach(function(t){y(t,"change",e)})});var t=l(".js-select-nav");function e(t){window.location.assign(t.currentTarget.value)}A.emit("selectnav:bind")}var V=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function _(t){for(var e="",n=0;n<t;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function J(t){if(!t)throw new TypeError("Invalid argument `value` has no value.");this.value=J.EMPTY,t&&t instanceof J?this.value=t.toString():t&&"[object String]"===Object.prototype.toString.call(t)&&J.isGuid(t)&&(this.value=t),this.equals=function(t){return J.isGuid(t)&&this.value===t},this.isEmpty=function(){return this.value===J.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}function K(){A.on("scrolling:at",function(o){t.forEach(function(t){var e=t.element;if(b(t.element,"is-sticky")){var n=t.element.getAttribute("data-sticky-id");e=document.querySelector('.js-shim[data-sticky-id="'+n+'"]')}if(e){var r=e.getAttribute("data-top")||0;t.top=e.offsetTop-parseInt(r,0)}t.top<o?A.emit("sticky:stick",t):A.emit("sticky:unstick",t)})}),A.on("sticky:stick",function(t){var e=t.element.getAttribute("data-sticky-id"),n=document.querySelector('.js-shim[data-sticky-id="'+e+'"]');e&&n&&(h(t.element,"is-sticky"),n.style.display="")}),A.on("sticky:unstick",function(t){var e=t.element.getAttribute("data-sticky-id"),n=document.querySelector('.js-shim[data-sticky-id="'+e+'"]');e&&n&&(w(t.element,"is-sticky"),n.style.display="none")});var t=l(".js-sticky").map(function(t){var e=t.offsetTop,n=t.getAttribute("data-top")||0;return t.style.top=n+"px",t.getAttribute("data-sticky-id")||function(t){var e=J.raw();t.setAttribute("data-sticky-id",e);var n=t.parentNode,r=t.cloneNode("deep");h(r,"js-shim"),w(r,"js-sticky"),r.setAttribute("data-sticky-id",e),r.style.visibility="hidden",r.style.display="none",n.insertBefore(r,t)}(t),{top:e-parseInt(n,0),element:t}})}function W(){function o(t){var e=t.getAttribute("data-tab");if(e)return e;var n=J.raw();return t.setAttribute("data-tab",n),n}function n(t){var e=t.target;b(e,"tab-title")||(e=t.currentTarget);var n=d("js-tab-group",e);return{parent:n,id:o(n),active:e}}function r(t){t.preventDefault();var e=n(t);A.emit("tabs:active",e)}function i(t){var e=n(t);13===t.keycode&&A.emit("tabs:active",e)}A.on("tabs:bind",function(){var t=l(".js-tab"),e=l(".js-tab-group"),n=l(".js-tab-section");e.forEach(function(t){t.setAttribute("aria-live","polite"),o(t),t.children[0].setAttribute("role","tablist");for(var e=t.querySelectorAll(".js-tab"),n=100/e.length,r=0;r<e.length;r++)e[r].style.maxWidth=n+"%"}),t.forEach(function(t){t.setAttribute("aria-expanded","false"),t.setAttribute("role","tab"),t.setAttribute("tabindex","0"),y(t,"click",r),y(t,"keyup",i)}),n.forEach(function(t){t.setAttribute("role","tabpanel");var e=b(t,"is-active");e?t.setAttribute("aria-expanded",!0):t.setAttribute("aria-expanded",!1)})}),A.on("tabs:active",function(t){var e=t.parent,n=m(e.querySelectorAll(".js-tab")),r=t.active,o=m(e.querySelectorAll(".js-tab-section")),i=n.indexOf(r),a=o[i];n.forEach(function(t){t.setAttribute("aria-expanded",!1)}),r.setAttribute("aria-expanded",!0),c(n,r),o.forEach(function(t){t.setAttribute("aria-expanded",!1)}),a.setAttribute("aria-expanded",!0),c(o,a)}),A.emit("tabs:bind")}J.EMPTY="00000000-0000-0000-0000-000000000000",J.isGuid=function(t){return t&&(t instanceof J||V.test(t.toString()))},J.create=function(){return new J([_(2),_(1),_(1),_(1),_(3)].join("-"))},J.raw=function(){return[_(2),_(1),_(1),_(1),_(3)].join("-")},y(document,"keyup",function(t){27===t.keyCode?A.emit("keyboard:escape"):13===t.keyCode?A.emit("keyboard:return"):32===t.keyCode?A.emit("keyboard:space"):38===t.keyCode?A.emit("keyboard:arrow:up"):40===t.keyCode?A.emit("keyboard:arrow:down"):37===t.keyCode?A.emit("keyboard:arrow:left"):39===t.keyCode&&A.emit("keyboard:arrow:right")}),y(window,"scroll",a(function(){A.emit("scrolling:at",window.pageYOffset)},100));var F=[D,function(){var e=l(".js-copy-to-clipboard");function n(t){t.preventDefault();var e=t.target.getAttribute("data-clipboard-target");document.querySelector(e).select(),document.execCommand("copy")}A.on("clipboard:bind",function(t){t?y(t.node,"click",n):e.forEach(function(t){y(t,"click",n)})}),A.emit("clipboard:bind")},$,B,I,R,Y,G,K,W];return{version:"1.0.0",click:t,addEvent:y,removeEvent:p,eventTarget:n,preventDefault:k,stopPropagation:o,throttle:a,hasClass:b,addClass:h,removeClass:w,toggleClass:i,removeActive:g,addActive:function(t){(t=m(t)).forEach(function(t){h(t,"is-active")})},toggleActive:c,toggleAriaHidden:function(t){t.forEach(function(t){t&&("true"!==t.getAttribute("aria-hidden")?t.setAttribute("aria-hidden",!0):t.removeAttribute("aria-hidden"))})},toggleAriaExpanded:e,closest:d,nodeListToArray:m,findElements:l,bus:A,accordion:D,dropdown:$,drawer:B,filterDropdown:I,modal:R,search:Y,selectNav:G,sticky:K,tabs:W,extend:function(t){for(var e in"function"!=typeof Object.assign&&(Object.assign=function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var n=1;n<arguments.length;n++){var r=e[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}),t)F.push(t[e]);Object.assign(this,t)},init:function(){F.forEach(function(t){t()})}}});