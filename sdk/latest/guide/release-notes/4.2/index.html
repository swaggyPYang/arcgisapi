<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="content-language" content="en"><meta name="last-modified" content="Fri Sep 14 2018 16:10:47 GMT-0700 (Pacific Daylight Time)"><meta name="product" content="js-api-arcgis"><meta name="version" content="4.x"><meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="subject_label" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="sub_category" content="JavaScript API"><meta name="sub_category_label" content="ArcGIS API for JavaScript"><meta name="content_type" content="Guide"><meta name="content_type_label" content="Guide"><meta name="search-collection" content="help"><meta name="search-category" content="help-api,help-api-guide"><title>Release notes for 4.2 | ArcGIS API for JavaScript 4.9</title><link rel="shortcut icon" href="../../../../assets/img/favicon.ico"><link rel="stylesheet" href="../../../../assets/css/default.css"></head><body><developers-account-notifications></developers-account-notifications><div class="wrapper"><header class="top-nav top-nav-hover-top"><div class="grid-container"><div class="column-24 tablet-show"><div class="dropdown js-dropdown left"><a href="#" class="icon-ui-menu top-nav-title js-drawer-toggle top-nav-title-tablet" data-drawer="top-nav">ArcGIS API for JavaScript</a></div></div><div class="column-24 leader-1 trailer-1 tablet-leader-0">Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a></div></div></header><header class="sub-nav sub-nav-purple"><div class="grid-container"><nav class="breadcrumbs breadcrumbs-white clearfix padding-leader-1"><a href="/web-api/" class="crumb">ArcGIS Web API</a> <a href="../../../.." class="crumb">JavaScript API</a> <a href="../../../.." class="crumb">4.9</a> <a href="../../../../latest/guide/index.html" class="crumb">Guide</a></nav><h1 class="sub-nav-title text-white leader-1">ArcGIS API for JavaScript</h1><nav class="sub-nav-list leader-0 tablet-hide"><a class="sub-nav-link" href="../../../../index.html">Home</a> <a class="sub-nav-link is-active" href="../../../../latest/guide/index.html">Guide</a> <a class="sub-nav-link" href="../../../../latest/api-reference/index.html">API Reference</a> <a class="sub-nav-link" href="../../../../latest/sample-code/index.html">Sample Code</a> <a class="sub-nav-link" href="../../../../support/index.html">Support</a></nav><select class="select-full trailer-half tablet-show js-select-nav"><option value="../../../../index.html">Home</option><option selected="selected" value="../../../../latest/guide/index.html">Guide</option><option value="../../../../latest/api-reference/index.html">API Reference</option><option value="../../../../latest/sample-code/index.html">Sample Code</option><option value="../../../../support/index.html">Support</option></select></div></header><div id="skip-to-content"><div class="grid-container leader-1"><div class="column-6 trailer-2 tablet-hide"><aside class="accordion side-nav column-6 js-accordion guide"><div class="accordion-section"><h4 class="accordion-title">Get Started</h4><nav class="accordion-content"><a href="../../../../latest/guide/index.html" class="side-nav-link">Overview</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/release-notes/index.html" class="side-nav-link">Release notes</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/get-api/index.html" class="side-nav-link">Get the API</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/system-requirements/index.html" class="side-nav-link">System requirements</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Migrating from 3.x</h4><nav class="accordion-content"><a href="../../../../latest/guide/choose-version/index.html" class="side-nav-link">Choose a version</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/migrating/index.html" class="side-nav-link">Migrating from 3.x to 4.9</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/functionality-matrix/index.html" class="side-nav-link">3.x to 4.x functionality matrix</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Migrating from other APIs</h4><nav class="accordion-content"><a href="../../../../latest/guide/migrating-from-google-maps-to-arcgis-javascript-api/index.html" class="side-nav-link">Migrating from Google Maps API</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Working with the API</h4><nav class="accordion-content"><a href="../../../../latest/guide/working-with-props/index.html" class="side-nav-link">Properties</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-promises/index.html" class="side-nav-link">Promises</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/arcade/index.html" class="side-nav-link">Arcade</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/labeling/index.html" class="side-nav-link">Labeling</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/view-ui/index.html" class="side-nav-link">View UI</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/autocasting/index.html" class="side-nav-link">Autocasting</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/loadable/index.html" class="side-nav-link">Loadable</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-fromjson/index.html" class="side-nav-link">Using fromJSON()</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/typescript-setup/index.html" class="side-nav-link">TypeScript Setup</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/custom-widget/index.html" class="side-nav-link">Widget Development</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/implementing-accessor/index.html" class="side-nav-link">Implementing Accessor</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/styling/index.html" class="side-nav-link">Styling</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-platform/index.html" class="side-nav-link">Working with the ArcGIS platform</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/secure-resources/index.html" class="side-nav-link">Access Secure Resources</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-frameworks/index.html" class="side-nav-link">Using Frameworks</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-npm/index.html" class="side-nav-link">Using npm</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-webpack/index.html" class="side-nav-link">Using webpack</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-phonegap/index.html" class="side-nav-link">Using PhoneGap</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/intro-workflows/index.html" class="side-nav-link">Intro to Workflow Manager</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-scene-layers/index.html" class="side-nav-link">Working with scene layers</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Visualization</h4><nav class="accordion-content"><a href="../../../../latest/guide/visualization-overview/index.html" class="side-nav-link">Visualization Overview</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/creating-visualizations-manually/index.html" class="side-nav-link">Creating visualizations manually</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/visualizing-points-3d/index.html" class="side-nav-link">Visualizing points with 3D symbols</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Reference</h4><nav class="accordion-content"><a href="../../../../latest/guide/cors/index.html" class="side-nav-link">CORS</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/proxies/index.html" class="side-nav-link">Proxy pages</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/esri-icon-font/index.html" class="side-nav-link">Esri Icon Font</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/esri-web-style-symbols/index.html" class="side-nav-link">Esri Web Style Symbols</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/localization/index.html" class="side-nav-link">Localization</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/licensing/index.html" class="side-nav-link">Licensing &amp; Attribution</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/faq/index.html" class="side-nav-link">FAQ</a></nav></div></aside><div class="column-6 js-sticky scroll-show tablet-hide" data-top="46"><a href="#" class="btn btn-fill btn-clear">Back to Top</a></div></div><div class="column-24 trailer-1 tablet-show"><select class="select-full trailer-half js-select-nav"><optgroup label="Get Started"><option value="../../../../latest/guide/index.html">Overview</option><option value="../../../../latest/guide/release-notes/index.html">Release notes</option><option value="../../../../latest/guide/get-api/index.html">Get the API</option><option value="../../../../latest/guide/system-requirements/index.html">System requirements</option></optgroup><optgroup label="Migrating from 3.x"><option value="../../../../latest/guide/choose-version/index.html">Choose a version</option><option value="../../../../latest/guide/migrating/index.html">Migrating from 3.x to 4.9</option><option value="../../../../latest/guide/functionality-matrix/index.html">3.x to 4.x functionality matrix</option></optgroup><optgroup label="Migrating from other APIs"><option value="../../../../latest/guide/migrating-from-google-maps-to-arcgis-javascript-api/index.html">Migrating from Google Maps API</option></optgroup><optgroup label="Working with the API"><option value="../../../../latest/guide/working-with-props/index.html">Properties</option><option value="../../../../latest/guide/working-with-promises/index.html">Promises</option><option value="../../../../latest/guide/arcade/index.html">Arcade</option><option value="../../../../latest/guide/labeling/index.html">Labeling</option><option value="../../../../latest/guide/view-ui/index.html">View UI</option><option value="../../../../latest/guide/autocasting/index.html">Autocasting</option><option value="../../../../latest/guide/loadable/index.html">Loadable</option><option value="../../../../latest/guide/using-fromjson/index.html">Using fromJSON()</option><option value="../../../../latest/guide/typescript-setup/index.html">TypeScript Setup</option><option value="../../../../latest/guide/custom-widget/index.html">Widget Development</option><option value="../../../../latest/guide/implementing-accessor/index.html">Implementing Accessor</option><option value="../../../../latest/guide/styling/index.html">Styling</option><option value="../../../../latest/guide/working-with-platform/index.html">Working with the ArcGIS platform</option><option value="../../../../latest/guide/secure-resources/index.html">Access Secure Resources</option><option value="../../../../latest/guide/using-frameworks/index.html">Using Frameworks</option><option value="../../../../latest/guide/using-npm/index.html">Using npm</option><option value="../../../../latest/guide/using-webpack/index.html">Using webpack</option><option value="../../../../latest/guide/using-phonegap/index.html">Using PhoneGap</option><option value="../../../../latest/guide/intro-workflows/index.html">Intro to Workflow Manager</option><option value="../../../../latest/guide/working-with-scene-layers/index.html">Working with scene layers</option></optgroup><optgroup label="Visualization"><option value="../../../../latest/guide/visualization-overview/index.html">Visualization Overview</option><option value="../../../../latest/guide/creating-visualizations-manually/index.html">Creating visualizations manually</option><option value="../../../../latest/guide/visualizing-points-3d/index.html">Visualizing points with 3D symbols</option></optgroup><optgroup label="Reference"><option value="../../../../latest/guide/cors/index.html">CORS</option><option value="../../../../latest/guide/proxies/index.html">Proxy pages</option><option value="../../../../latest/guide/esri-icon-font/index.html">Esri Icon Font</option><option value="../../../../latest/guide/esri-web-style-symbols/index.html">Esri Web Style Symbols</option><option value="../../../../latest/guide/localization/index.html">Localization</option><option value="../../../../latest/guide/licensing/index.html">Licensing &amp; Attribution</option><option value="../../../../latest/guide/faq/index.html">FAQ</option></optgroup></select></div><main class="column-17 tablet-column-12 pre-1 content-face"><article><div class="js-container-guide"><p></p><div class="trailer-1 right"><div class="dropdown js-dropdown"><button class="btn btn-transparent dropdown-btn js-dropdown-toggle" tabindex="0" aria-haspopup="true" aria-expanded="false">Release notes</button><div class="dropdown-menu" role="menu"><a href="../../../../latest/guide/release-notes/index.html" class="dropdown-link" role="menuitem">4.9 (current)</a><a href="../../../../latest/guide/release-notes/4.8/index.html" class="dropdown-link" role="menuitem">4.8</a><a href="../../../../latest/guide/release-notes/4.7/index.html" class="dropdown-link" role="menuitem">4.7</a><a href="../../../../latest/guide/release-notes/4.6/index.html" class="dropdown-link" role="menuitem">4.6</a><a href="../../../../latest/guide/release-notes/4.5/index.html" class="dropdown-link" role="menuitem">4.5</a><a href="../../../../latest/guide/release-notes/4.4/index.html" class="dropdown-link" role="menuitem">4.4</a><a href="../../../../latest/guide/release-notes/4.3/index.html" class="dropdown-link" role="menuitem">4.3</a><a href="../../../../latest/guide/release-notes/4.2/index.html" class="dropdown-link is-active" role="menuitem">4.2</a><a href="../../../../latest/guide/release-notes/4.1/index.html" class="dropdown-link" role="menuitem">4.1</a><a href="../../../../latest/guide/release-notes/4.0/index.html" class="dropdown-link" role="menuitem">4.0</a></div></div></div><p></p><h1 id="release-notes-for-42">Release notes for 4.2</h1><p></p><div class="table-of-contents"><ul><li><a href="#topics">Topics</a><ul><li><a href="#custom-widget-development">Custom widget development</a></li><li><a href="#new-widgets">New widgets</a><ul><li><a href="#layerlist-widget">LayerList widget</a></li><li><a href="#print-widget">Print widget</a></li></ul></li><li><a href="#arcade-expressions-in-visualization">Arcade expressions in visualization</a></li><li><a href="#revamped-vectortilelayer-support">Revamped VectorTileLayer support</a></li><li><a href="#improvements-to-event-handling-in-mapview-and-sceneview">Improvements to event handling in MapView and SceneView</a></li><li><a href="#point-clouds">Point clouds</a></li><li><a href="#elevation-query-api">Elevation Query API</a></li><li><a href="#generate-visualizations-with-smart-defaults">Generate visualizations with smart defaults</a></li><li><a href="#custom-goto-animations">Custom goTo() animations</a></li><li><a href="#workers-framework">Workers framework</a></li><li><a href="#support-for-indonesian-and-bosnian-locales">Support for Indonesian and Bosnian locales</a></li></ul></li><li><a href="#api-updates-and-enhancements">API updates and enhancements</a></li><li><a href="#breaking-changes">Breaking changes</a></li><li><a href="#bug-fixes-and-enhancements">Bug fixes and enhancements</a></li><li><a href="#additional-packages">Additional packages</a></li></ul></div><p></p><h2 id="topics">Topics</h2><h3 id="custom-widget-development">Custom widget development</h3><p>In addition to the Esri-provided <a href="../../../api-reference/index.html">widgets</a>, you can now create your own custom widget using the new <a href="../../../guide/custom-widget/index.html">widget framework</a>. This framework allows you to create subclasses off of the <a href="../../../api-reference/esri-widgets-Widget.html">Widget</a> class. For additional information on this, please refer to the <a href="../../../guide/custom-widget/index.html">Widget development guide topic</a>, in addition to two new samples showcasing this functionality:</p><ul><li><a href="../../../sample-code/widgets-custom-widget/index.html">Create custom widget</a></li><li><a href="../../../sample-code/widgets-custom-recenter/index.html">Create a custom Recenter widget</a></li></ul><p><a href="../../../sample-code/widgets-custom-recenter/index.html"><img src="../../../../assets/img/guide/whats-new/42/recenter.png" alt="Recenter Widget"></a></p><h3 id="new-widgets">New widgets</h3><p>The <a href="../../../api-reference/esri-widgets-LayerList.html">LayerList</a> and <a href="../../../api-reference/esri-widgets-Print.html">Print</a> widgets have been designed from the ground up with a clean user experience and responsive design. Both follow the API's view model architecture for extensibility and customization described above.</p><p>LayerList and Print are the first two widgets that have been implemented using the new widget framework. The remaining ready-to-use widgets, (e.g. Home, Search, etc.) are planned to be updated in subsequent API releases.</p><h4 id="layerlist-widget">LayerList widget</h4><p>The LayerList widget provides a way to display a list of layers, and switching on/off their visibility. It also supports easily adding your own <a href="../../../sample-code/widgets-layerlist-actions/index.html">custom actions</a>, similar to the actions that can be added to a popup.</p><p><a href="../../../sample-code/widgets-layerlist/index.html"><img src="../../../../assets/img/guide/whats-new/42/layerlist-basic.png" alt="LayerList - sample"></a><a href="../../../sample-code/widgets-layerlist-actions/index.html"><img src="../../../../assets/img/guide/whats-new/42/layerlist-actions.png" alt="LayerList with actions - sample"></a></p><h4 id="print-widget">Print widget</h4><p>The <a href="../../../api-reference/esri-widgets-Print.html">Print</a> widget allows users to export the current mapview for printing or saving. It connects your application with a printing service to allow the map to be exported to different file formats, including PDF which is the default output format. It takes advantage of the server-side, high-quality, full cartographic print functionality using ArcGIS Server, which can be configured with custom layout templates.</p><p><a href="../../../sample-code/visualization-arcade/index.html"><img src="../../../../assets/img/guide/whats-new/42/print.png" alt="arcade - sample"></a></p><h3 id="arcade-expressions-in-visualization">Arcade expressions in visualization</h3><p><a href="../../arcade/index.html">Arcade</a> is a lightweight expression language designed for creating custom content, visualizations, and labels across the ArcGIS platform. In the 4.2 release of the API, Arcade is exclusively used for custom data-driven visualizations. Rather than base visualizations on the value of a layer's field, users now can pass an expression to renderers and visual variables. The expression will execute for each feature, generating a symbol based on the returned value. This is convenient when a service doesn't have the exact values you need. Arcade comes equipped with its <a href="https://developers.arcgis.com/arcade/function-reference/">own library of functions</a> and allows users to write custom functions within an expression.</p><p><a href="../../../sample-code/visualization-arcade/index.html"><img src="../../../../assets/img/guide/whats-new/42/arcade-renderer.png" alt="arcade - sample"></a></p><p>The following snippet demonstrates how you can write an Arcade expression showing the share of the vote earned in an election by the winner for each geography in the layer.</p><pre><code class="js"><span class="hljs-comment">// CANDIDATE1 and CANDIDATE2 are field values</span>
<span class="hljs-keyword">var</span> arcade = <span class="hljs-string">"var votes = [$feature.CANDIDATE1, $feature.CANDIDATE2];"</span>
  <span class="hljs-comment">// Sum() and Max() are built-in Arcade functions</span>
  + <span class="hljs-string">"return ( Max(votes) / Sum(votes) ) * 100;"</span>;

renderer.visualVariables = [{
  <span class="hljs-attr">type</span>: <span class="hljs-string">"color"</span>,
  <span class="hljs-attr">valueExpression</span>: arcade,  <span class="hljs-comment">// valueExpression points to the Arcade expression</span>
  valueExpressionTitle: <span class="hljs-string">"Share of winner's votes"</span>,
  <span class="hljs-attr">stops</span>: [ ... ]
}];
</code></pre><p>Arcade is convenient for a number of reasons, including providing the ability to save expressions to layer items and web maps in <a href="https://arcgis.com">ArcGIS Online</a> or Portal for ArcGIS. That means expressions can be authored in apps and persisted in webmaps throughout the ArcGIS platform. In future releases, users will have the ability to use it in other contexts, such as labeling.</p><p>Be sure to read the <a href="https://developers.arcgis.com/arcade/">full Arcade documentation</a> for details about its syntax and the <a href="../../arcade/index.html">Arcade guide page</a> for more examples of its usage within the API. The <a href="../../../sample-code/visualization-arcade/index.html">Create a custom visualization using Arcade sample</a> demonstrates how Arcade can be used in this context.</p><h3 id="revamped-vectortilelayer-support">Revamped VectorTileLayer support</h3><p>This release of the JavaScript API includes some important changes to the VectorTileLayer. With this release, the implementation of the VectorTileLayer has been re-written to be more tightly integrated with the API. The VectorTileLayer still fully supports the current Mapbox Style Specification (version 8) and MapBox Vector Tile specification. The enhancements with this first release of the new vector tile implementation include:</p><ul><li>Vector tile layers support in 3D</li><li>The label engine was designed with improved display (avoiding label cut-off on tile boundaries), with better label placement and collision detection. We will continue to work on improvements in this area.</li><li>No symbol cut-off on tile boundaries.</li><li><a href="https://en.wikipedia.org/wiki/Right-to-left">Right-to-left</a> (RTL) support for map labels. Languages like Arabic and Hebrew require RTL with contextual shaping support to ensure continuous flowing text. Initially, this will only be apparent with labels in the ArcGIS Online basemaps. At <a href="https://pro.arcgis.com/en/pro-app/">ArcGIS Pro 1.4</a>, users will be able to create and publish vector tile layer packages that contain RTL support for any font family.</li><li>Support for vector tiles in any ArcGIS-supported spatial reference.</li><li>Microsoft Edge and IE11 support.</li><li>Full support for <a href="https://gist.github.com/odoe/ce6a150658526901ef27">indexed vector tiles</a>. Indexed vector tiles allow tile creators to efficiently generate data dependent tiles reducing the amount of time (and tiles) it takes to build out the tile set for the layer. Note: We still have an open <a href="https://github.com/mapbox/vector-tile-js/pull/37">PR</a> on MapBox vector-tile-js which adds support for indexed vector tiles.</li></ul><p>While the underlying implementation is different, existing layers published to ArcGIS Online and Portal for ArcGIS will continue to work.</p><p><a href="../../../sample-code/layers-vectortilelayer/index.html"><img src="../../../../assets/img/guide/whats-new/42/vectortilelayer-arabic.png" alt="vectortilelayer"></a></p><h3 id="improvements-to-event-handling-in-mapview-and-sceneview">Improvements to event handling in MapView and SceneView</h3><p>The following <code>keyboard</code> and <code>pointer</code> events are now available on <a href="../../../api-reference/esri-views-MapView.html#events-summary">MapView</a> and <a href="../../../api-reference/esri-views-SceneView.html#events-summary">SceneView</a>:</p><ul><li><a href="../../../api-reference/esri-views-View.html#event:double-click">double-click</a> - fires after double-clicking on the view.</li><li><a href="../../../api-reference/esri-views-View.html#event:drag">drag</a> - fires during a pointer drag on the view.</li><li><a href="../../../api-reference/esri-views-View.html#event:key-down">key-down</a> - fires after a keyboard key is pressed.</li><li><a href="../../../api-reference/esri-views-View.html#event:key-up">key-up</a> - fires after a keyboard key is released.</li><li><a href="../../../api-reference/esri-views-View.html#event:mouse-wheel">mouse-wheel</a> - fires when a wheel button of a pointing device (typically a mouse) is scrolled on the view.</li><li><a href="../../../api-reference/esri-views-View.html#event:pointer-down">pointer-down</a> - fires after a mouse button is pressed, or a finger touches the display.</li><li><a href="../../../api-reference/esri-views-View.html#event:pointer-move">pointer-move</a> - fires after the mouse or a finger on the display moves.</li><li><a href="../../../api-reference/esri-views-View.html#event:pointer-up">pointer-up</a> - fires after a mouse button is released, or a display touch ends.</li></ul><p>See the following samples:</p><ul><li><a href="../../../sample-code/ge-geodesicbuffer/index.html">Creating geodesic buffers using GeometryEngine</a></li></ul><h3 id="point-clouds">Point clouds</h3><p>Point cloud data can be visualized using the new <a href="../../../api-reference/esri-layers-PointCloudLayer.html">PointCloudLayer</a>. Visualizing point clouds in different ways can help extract important information. With the JavaScript API point cloud data can be visualized in the following ways:</p><ul><li>based on the original scan colors using <a href="../../../api-reference/esri-renderers-PointCloudRGBRenderer.html">PointCloudRGBRenderer</a>, <a href="../../../sample-code/layers-pointcloud/index.html"><img src="../../../../assets/img/guide/whats-new/42/point-cloud-rgb.png" alt="rgbRenderer"></a></li><li>based on nominal unique values using <a href="../../../api-reference/esri-renderers-PointCloudUniqueValueRenderer.html">PointCloudUniqueValueRenderer</a>,</li><li>based on a numerical attribute mapped to a continuous color scale using <a href="../../../api-reference/esri-renderers-PointCloudStretchRenderer.html">PointCloudStretchRenderer</a>, <a href="../../../sample-code/layers-pointcloud/index.html"><img src="../../../../assets/img/guide/whats-new/42/point-cloud-stretch.png" alt="rgbRenderer"></a></li><li>based on classes extracted from a numerical attribute using <a href="../../../api-reference/esri-renderers-PointCloudClassBreaksRenderer.html">PointCloudClassBreaksRenderer</a>.</li></ul><p>See the <a href="../../../sample-code/layers-pointcloud/index.html">Point Cloud Layer sample</a> for more details on this topic.</p><h3 id="elevation-query-api">Elevation Query API</h3><p>Elevation values, or z-values, in 3D <a href="../../../api-reference/esri-views-SceneView.html">SceneViews</a> for a given point can be obtained in a couple of ways. One is via the <a href="../../../api-reference/esri-views-SceneView.html#hitTest">hitTest()</a> method, which provides an approximate elevation for a given <a href="../../../api-reference/esri-geometry-ScreenPoint.html">ScreenPoint</a>. Starting at version 4.2, you can now query more precise elevation values for <a href="../../../sample-code/elevation-query-points/index.html">points</a> and <a href="../../../sample-code/elevation-query/index.html">polylines</a> directly from an <a href="../../../api-reference/esri-layers-ElevationLayer.html">ElevationLayer</a> with the <a href="../../../api-reference/esri-layers-ElevationLayer.html#queryElevation">queryElevation()</a> method.</p><p>The image below links to to a sample that demonstrates how you can query elevation at the same location from two elevation layers: one representing the surface before a landslide and the other after the landslide. You can then calcualte the elevation difference based on the results.</p><p><a href="../../../sample-code/elevation-query-points/index.html"><img src="../../../../assets/img/guide/whats-new/42/elevation-query.png" alt="query elevation - points"></a></p><p>New samples:</p><ul><li><a href="../../../sample-code/elevation-query-points/index.html">Query Elevation (points)</a></li><li><a href="../../../sample-code/elevation-query/index.html">Query Elevation (lines)</a></li></ul><h3 id="generate-visualizations-with-smart-defaults">Generate visualizations with smart defaults</h3><p>Data-driven and simple location-based visualizations can be generated with &quot;smart&quot; default symbology with methods in one of four objects new to the API for generating renderers with smart default symbols:</p><ul><li><a href="../../../api-reference/esri-renderers-smartMapping-creators-location.html">location</a> - generates a single symbol for all features in a layer.</li><li><a href="../../../api-reference/esri-renderers-smartMapping-creators-color.html">color</a> - generates data-driven visualizations with continuous color based on a numeric field.</li><li><a href="../../../api-reference/esri-renderers-smartMapping-creators-size.html">size</a> - generates data-driven visualizations with continuous size based on a numeric field.</li><li><a href="../../../api-reference/esri-renderers-smartMapping-creators-univariateColorSize.html">univariateColorSize</a> - generates visualizations with continuous color and size ramps based on a single numeric field. This type was designed specifically for visualizations using 3D symbols.</li></ul><p><a href="../../../sample-code/visualization-sm-uni-colorsize/index.html"><img src="../../../../assets/img/guide/whats-new/42/3d-smart-mapping.png" alt="univariate-color-size-sm-sample"></a></p><p>The data-driven methods available in each of these objects are built on top of of the new statistics functions: <a href="../../../api-reference/esri-renderers-smartMapping-statistics-summaryStatistics.html">summaryStatistics</a>, <a href="../../../api-reference/esri-renderers-smartMapping-statistics-classBreaks.html">classBreaks</a>, and <a href="../../../api-reference/esri-renderers-smartMapping-statistics-histogram.html">histogram</a>. These functions drive how the continuous color and size ramps are mapped to data values in the layer. The symbology component of the generator functions are based on the <a href="../../../api-reference/esri-renderers-smartMapping-symbology-location.html">location</a>, <a href="../../../api-reference/esri-renderers-smartMapping-symbology-color.html">color</a>, and <a href="../../../api-reference/esri-renderers-smartMapping-symbology-size.html">size</a> objects, which provide convenience methods for getting schemes and themes for each style.</p><p>Three widgets were also added: <a href="../../../api-reference/esri-widgets-ColorSlider.html">ColorSlider</a>, <a href="../../../api-reference/esri-widgets-SizeSlider.html">SizeSlider</a>, and <a href="../../../api-reference/esri-widgets-UnivariateColorSizeSlider.html">UnivariateColorSizeSlider</a> providing users with the ability to easily explore spatial patterns in their data and update data-driven visualizations to highlight alternate nuances of the data such as emphasizing outliers, similar features, or features with values above or below a certain point.</p><p><a href="../../../sample-code/visualization-sm-color/index.html"><img src="../../../../assets/img/guide/whats-new/42/color-slider.png" alt="Generate continuous color visualization sample"></a></p><p>The visualization generator workflows are designed for allowing users to explore unfamiliar data and/or save custom visualizations to portal items (layers, webmaps, webscenes) with a simple UI.</p><p>The following are new samples demonstrating how the renderer generators and slider widgets work together.</p><ul><li><a href="../../../sample-code/visualization-sm-color/index.html">Generate data-driven continuous color visualization</a></li><li><a href="../../../sample-code/visualization-sm-size/index.html">Generate data-driven continuous size visualization</a></li><li><a href="../../../sample-code/visualization-sm-uni-colorsize/index.html">Generate univariate continuous size and color visualization in 3D</a></li></ul><h3 id="custom-goto-animations">Custom goTo() animations</h3><p>When user orientation and correlation between the two locations is important, changing view center to a new location should be done smoothly. With this release the duration of the animation as well as an easing function can be given to control better the animation mode.</p><p>In the example below the camera speed grows gradually (to the power of 3), but limits the duration to 4 seconds.</p><pre><code class="js">view.goTo(newLocation, {
  <span class="hljs-attr">duration</span>: <span class="hljs-number">4000</span>,
  <span class="hljs-attr">easing</span>: <span class="hljs-string">"in-cubic"</span>
});
</code></pre><p>To discover more custom options for goTo() in 3D see the <a href="../../../sample-code/scene-goto/index.html">Using goTo() in a SceneView sample</a>.</p><h3 id="workers-framework">Workers framework</h3><p><a href="../../../api-reference/esri-core-workers.html">The workers framework</a> provides a means to improve performance by offloading computationally expensive tasks to background threads, without blocking the user interface which runs in the main thread. The <a href="../../../api-reference/esri-core-workers.html#open">workers.open()</a> method loads the script and returns a <a href="../../working-with-promises/index.html">Promise</a> to the main thread. This promise resolves to an instance of <a href="../../../api-reference/esri-core-workers-Connection.html">Connection</a>. The main thread can then asynchronously invoke methods from the worker script by calling the <a href="../../../api-reference/esri-core-workers-Connection.html#invoke">invoke()</a> or <a href="../../../api-reference/esri-core-workers-Connection.html#broadcast">broadcast()</a> methods.</p><h3 id="support-for-indonesian-and-bosnian-locales">Support for Indonesian and Bosnian locales</h3><p>Version 4.2 adds support for two new locales: Indonesian (id) and Bosnian (bs). See <a href="../../localization/">Localization topic</a> for more information about using different locales.</p><h2 id="api-updates-and-enhancements">API updates and enhancements</h2><ul><li>Added <a href="../../../api-reference/esri-layers-PointCloudLayer.html">PointCloudLayer</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudClassBreaksRenderer.html">PointCloudClassBreaksRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudRGBRenderer.html">PointCloudRGBRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudRenderer.html">PointCloudRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudStretchRenderer.html">PointCloudStretchRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudUniqueValueRenderer.html">PointCloudUniqueValueRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-widgets-LayerList.html">LayerList widget</a>, <a href="../../../api-reference/esri-widgets-LayerList-LayerListViewModel.html">LayerListViewModel</a>, Action object and <a href="../../../api-reference/esri-widgets-LayerList-ListItem.html">ListItem object</a>.</li><li>Added <a href="../../../api-reference/esri-widgets-Print.html">Print widget</a> and <a href="../../../api-reference/esri-widgets-Print-PrintViewModel.html">PrintViewModel</a>.</li><li>Added <a href="../../../api-reference/esri-portal-PortalRating.html">PortalRating</a> class.</li><li>Added <a href="../../../api-reference/esri-core-promiseUtils.html">promiseUtilsMethods</a> object.</li><li>Added <a href="../../../api-reference/esri-core-workers.html">workers</a> object and <a href="../../../api-reference/esri-core-workers-Connection.html">Connection</a> class.</li><li>Added the following functions for generating statistics for field values: <a href="../../../api-reference/esri-renderers-smartMapping-statistics-classBreaks.html">classBreaks</a>, <a href="../../../api-reference/esri-renderers-smartMapping-statistics-histogram.html">histogram</a>, and <a href="../../../api-reference/esri-renderers-smartMapping-statistics-summaryStatistics.html">summaryStatistics</a>.</li><li>Added objects for generating renderers and visual variables based on <a href="../../../api-reference/esri-renderers-smartMapping-creators-location.html">location</a>, <a href="../../../api-reference/esri-renderers-smartMapping-creators-color.html">color</a>, <a href="../../../api-reference/esri-renderers-smartMapping-creators-size.html">size</a>, and <a href="../../../api-reference/esri-renderers-smartMapping-creators-univariateColorSize.html">univariateColorSize</a>.</li><li>Added three slider widgets for exploring numeric data and authoring visualizations: <a href="../../../api-reference/esri-widgets-ColorSlider.html">ColorSlider</a>, <a href="../../../api-reference/esri-widgets-SizeSlider.html">SizeSlider</a>, and <a href="../../../api-reference/esri-widgets-UnivariateColorSizeSlider.html">UnivariateColorSizeSlider</a>.</li><li>Added symbology objects used to generate renderers based on <a href="../../../api-reference/esri-renderers-smartMapping-symbology-location.html">location</a>, <a href="../../../api-reference/esri-renderers-smartMapping-symbology-color.html">color</a>, and <a href="../../../api-reference/esri-renderers-smartMapping-symbology-size.html">size</a>.</li><li>Deprecated <a href="../../../api-reference/esri-widgets-Widget.html#startup">startup()</a> on all widgets.</li><li>Added support for 'with-credentials' option when specifying esri.config.request <code>useCors</code> property.</li><li>Added support for Objects in esri.config.request <code>corsEnabledServers</code> list.</li></ul><h2 id="breaking-changes">Breaking changes</h2><ul><li>To increase security, browsers are starting to block Geolocation API on insecure pages, meaning that the <a href="../../../api-reference/esri-widgets-Locate.html">Locate button</a> will not work from non-secure web pages (i.e., hosted on http). Google Chrome first implemented this in version 50 (April 2016) and Apple in Safari 10 (September 2016). <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1072859">Mozilla/Firefox</a> is planning to do the same. At version <a href="https://blogs.esri.com/esri/arcgis/2016/04/14/increased-web-api-security-in-google-chrome/">4.0 and 3.17</a> the JSAPI no longer displayed the Locate Button for non-secure web apps in the Chrome browser. As of version 4.2 and 3.19, the JSAPI no longer displays the Locate Button for non-secure web apps in any web browser. Note that localhost is considered &quot;potentially secure&quot; and can be used for easy testing.</li><li>The following <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayer</a> properties are removed: ACCESS_TOKEN</li></ul><h2 id="bug-fixes-and-enhancements">Bug fixes and enhancements</h2><ul><li>BUG-000100846: Opacity values for <a href="../../../api-reference/esri-layers-VectorTileLayer.html#opacity">VectorTileLayer</a> are no longer ignored.</li><li>BUG-000101162 <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayers</a> now zoom to the full extent when changing visibility.</li><li>BUG-000101189 - The click event is no longer recognized as a double click using Google Chrome on Windows touch screen devices.</li><li>BUG-000096543: Map clicks and mouse wheel scrolling works correctly now if the page is scrolled down.</li><li>BUG-000098977: Fixed an issue when clicking on a graphic from a feature layer created from a collection, the pop-up would not display if the graphic overlapped graphics from a feature service layer.</li><li>ENH-000091355: Map can now focus using the keyboard.</li><li>BUG-000099840: Can now rotate the <a href="../../../api-reference/esri-views-MapView.html">MapView</a> in Mozilla Firefox.</li><li>BUG-000098915: The attributes now move with the Map when vertically panning.</li><li>BUG-000099757: <a href="../../../api-reference/esri-geometry-geometryEngineAsync.html">GeometryEngineAsync</a> now resolves successfully with the first call.</li><li>ENH-000099112: Updated documentation that CORS is required for all cross domain image requests.</li><li>BUG-000095058: Fixed an issue where graphics from a graphics layer or feature layer were cut off by the map's edge after rotation.</li><li>BUG-000097724: Popup no longer shows an offset when map width/height is bigger than 100%.</li><li>Popup.location automatically converts WGS84 (latitude, longitude) points to web mercator when map is in web mercator projection. <a href="http://stackoverflow.com/questions/38919345/how-to-open-popup-at-lng-lat-position-in-arcgis-4-0">Stackoverflow question</a>.</li><li>Safari browser only: popup with live feeds in iframe was not cleared out when closing the popup.</li></ul><h2 id="additional-packages">Additional packages</h2><p>Version 4.2 of the ArcGIS API for JavaScript uses <a href="https://github.com/dojo/dojo/tree/1.11.2">Dojo 1.11.2</a> (since 4.1), <a href="http://dgrid.io/">dgrid</a> version 1.1.0 (since 4.1), and <a href="http://dstorejs.io/">dstore</a> version 1.1.1 (since 4.0).</p><p></p><div class="panel trailer-1"><h4>Previous releases</h4><ul><li><strong><a href="../../../../latest/guide/release-notes/4.8/index.html">Version 4.8</a></strong> - July 2018</li><li><strong><a href="../../../../latest/guide/release-notes/4.7/index.html">Version 4.7</a></strong> - April 2018</li><li><strong><a href="../../../../latest/guide/release-notes/4.6/index.html">Version 4.6</a></strong> - December 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.5/index.html">Version 4.5</a></strong> - September 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.4/index.html">Version 4.4</a></strong> - July 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.3/index.html">Version 4.3</a></strong> - March 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.2/index.html">Version 4.2</a></strong> - December 2016</li><li><strong><a href="../../../../latest/guide/release-notes/4.1/index.html">Version 4.1</a></strong> - September 2016</li><li><strong><a href="../../../../latest/guide/release-notes/4.0/index.html">Version 4.0</a></strong> - May 2016</li></ul></div><p></p></div></article></main></div><div class="footnote feedback right trailer-1"><a class="icon-ui-contact hide js-feedback" href="mailto:js_feedback@esri.com?subject=Feedback%20on%204.9%20-%20guide:%20Release%20notes%20for%204.2&body=Hello,%0A%0AI%20was%20reading%20the%20ArcGIS%20API%20for%20JavaScript%20version%204.9%20documentation%20and%20have%20some%20feedback.%0A%0ADocumentation%20details:%0APage%20title:%20%7BREPLACE_TITLE%7D%0APage%20URL:%20%7BREPLACE_URL%7D%0A%0A">Feedback on this topic?</a></div></div></div><footer class="footer leader- link-dark-gray" role="contentinfo"><div class="grid-container"><nav class="column-6"><h6>ArcGIS for Developers</h6><ul class="list-plain"><li><a href="/">Home</a></li><li><a href="/features/">Features</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/support/">Support</a></li><li><a href="/pricing/">Pricing</a></li><li><a href="/startups/">Startups</a></li><li><a href="https://blogs.esri.com/esri/arcgis/category/developer/">Blog</a></li></ul></nav><nav class="column-6"><h6>ArcGIS Platform</h6><ul class="list-plain"><li><a href="http://arcgis.com">ArcGIS Online</a></li><li><a href="http://desktop.arcgis.com">ArcGIS Desktop</a></li><li><a href="http://server.arcgis.com">ArcGIS Enterprise</a></li><li><a href="http://developers.arcgis.com">ArcGIS for Developers</a></li><li><a href="http://solutions.arcgis.com">ArcGIS Solutions</a></li><li><a href="http://marketplace.arcgis.com">ArcGIS Marketplace</a></li></ul></nav><nav class="column-6"><h6>About Esri</h6><ul class="list-plain"><li><a href="http://www.esri.com/about-esri/">About Us</a></li><li><a href="http://www.esri.com/careers/">Careers</a></li><li><a href="https://blogs.esri.com/esri/esri-insider/">Insiders Blog</a></li><li><a href="http://www.esri.com/events/user-conference/index.html">User Conference</a></li><li><a href="http://www.esri.com/events/devsummit/index.html">Developer Summit</a></li></ul></nav><nav class="column-6"><a class="esri-logo" href="http://esri.com" aria-label="Esri Home"></a><div class="footer-social-nav leader-1"><a class="icon-social-twitter" aria-label="Esri on Twitter" href="https://twitter.com/Esri/"></a> <a class="icon-social-facebook" aria-label="Esri on Facebook" href="https://www.facebook.com/esrigis/"></a> <a class="icon-social-github" aria-label="Esri on GitHub" href="http://esri.github.com/"></a> <a class="icon-social-contact" aria-label="Contact Esri" href="http://www.esri.com/about-esri/contact/"></a></div></nav><div class="column-24 leader-1"><p><small><a href="http://www.esri.com/legal/copyright-trademarks">Copyright Â© 2018 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="http://www.esri.com/legal/software-license">Terms of use</a> | <a href="/terms/faq/">FAQ</a></small></p></div></div></footer><script></script><script>var relativePath=document.URL.replace(/[-\w\d]*\.(html|css|js).*/,"../../../..")</script><script src="../../../../assets/js/config.js"></script><script src="../../../../assets/js/preparse.js"></script><div class="js-modal modal-overlay modifier-class" data-modal="modal-keyboard-shortcuts"><div class="modal-content column-8" aria-label="modal" role="dialog"><a class="js-modal-toggle right" href="#" aria-label="close-modal"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 32 32" class="svg-icon"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg></a><h4>Keyboard shortcuts</h4><hr class="leader-0 trailer-half"><div><table class="table-plain keyboard-mappings"><thead><tr><th></th><th>Site wide shortcuts</th></tr></thead><tbody><tr><td><kbd>?</kbd></td><td>Bring up this help dialog</td></tr><tr><td><kbd>esc</kbd></td><td>Dismiss this help dialog</td></tr><tr><td><kbd>g</kbd><kbd>h</kbd></td><td>Go to Home</td></tr><tr><td><kbd>g</kbd><kbd>g</kbd></td><td>Go to Guide</td></tr><tr><td><kbd>g</kbd><kbd>a</kbd></td><td>Go to API Reference</td></tr><tr><td><kbd>g</kbd><kbd>s</kbd></td><td>Go to Sample Code</td></tr><tr><td><kbd>g</kbd><kbd>t</kbd></td><td>Scroll to top of page</td></tr><tr><td><kbd>spacebar</kbd></td><td>Scroll page down</td></tr><tr><td><kbd>shift spacebar</kbd></td><td>Scroll page up</td></tr><tr><td><kbd>g</kbd><kbd>b</kbd></td><td>Scroll to bottom of page</td></tr></tbody></table></div></div></div><script src="../../../../assets/js/libs/url-search-params.js"></script><script src="../../../../assets/js/calcite-web.js"></script><script src="../../../../assets/js/calcite-web-extend.js"></script><script src="../../../../assets/js/libs/mousetrap.js"></script><script>"function"==typeof Mousetrap&&"object"==typeof calcite&&"function"==typeof Mousetrap&&"object"==typeof calcite&&Mousetrap.bind(["g h","g g","g a","g s","?","g t","g b"],function(e,t){calcite.bus.emit("keyboard:mousetrap",{event:e,combination:t,navigation:{h:"../../../../index.html",g:"../../../../latest/guide/index.html",a:"../../../../latest/api-reference/index.html",s:"../../../../latest/sample-code/index.html"}})})</script></body></html>