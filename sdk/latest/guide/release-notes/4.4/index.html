<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="content-language" content="en"><meta name="last-modified" content="Tue Sep 04 2018 14:34:41 GMT-0700 (Pacific Daylight Time)"><meta name="product" content="js-api-arcgis"><meta name="version" content="4.x"><meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="subject_label" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="sub_category" content="JavaScript API"><meta name="sub_category_label" content="ArcGIS API for JavaScript"><meta name="content_type" content="Guide"><meta name="content_type_label" content="Guide"><meta name="search-collection" content="help"><meta name="search-category" content="help-api,help-api-guide"><title>Release notes for 4.4 | ArcGIS API for JavaScript 4.9</title><link rel="shortcut icon" href="../../../../assets/img/favicon.ico"><link rel="stylesheet" href="../../../../assets/css/default.css"></head><body><developers-account-notifications></developers-account-notifications><div class="wrapper"><header class="top-nav top-nav-hover-top"><div class="grid-container"><div class="column-24 tablet-show"><div class="dropdown js-dropdown left"><a href="#" class="icon-ui-menu top-nav-title js-drawer-toggle top-nav-title-tablet" data-drawer="top-nav">ArcGIS API for JavaScript</a></div></div><div class="column-24 leader-1 trailer-1 tablet-leader-0">Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a></div></div></header><header class="sub-nav sub-nav-purple"><div class="grid-container"><nav class="breadcrumbs breadcrumbs-white clearfix padding-leader-1"><a href="/web-api/" class="crumb">ArcGIS Web API</a> <a href="../../../.." class="crumb">JavaScript API</a> <a href="../../../.." class="crumb">4.9</a> <a href="../../../../latest/guide/index.html" class="crumb">Guide</a></nav><h1 class="sub-nav-title text-white leader-1">ArcGIS API for JavaScript</h1><nav class="sub-nav-list leader-0 tablet-hide"><a class="sub-nav-link" href="../../../../index.html">Home</a> <a class="sub-nav-link is-active" href="../../../../latest/guide/index.html">Guide</a> <a class="sub-nav-link" href="../../../../latest/api-reference/index.html">API Reference</a> <a class="sub-nav-link" href="../../../../latest/sample-code/index.html">Sample Code</a> <a class="sub-nav-link" href="../../../../support/index.html">Support</a></nav><select class="select-full trailer-half tablet-show js-select-nav"><option value="../../../../index.html">Home</option><option selected="selected" value="../../../../latest/guide/index.html">Guide</option><option value="../../../../latest/api-reference/index.html">API Reference</option><option value="../../../../latest/sample-code/index.html">Sample Code</option><option value="../../../../support/index.html">Support</option></select></div></header><div id="skip-to-content"><div class="grid-container leader-1"><div class="column-6 trailer-2 tablet-hide"><aside class="accordion side-nav column-6 js-accordion guide"><div class="accordion-section"><h4 class="accordion-title">Get Started</h4><nav class="accordion-content"><a href="../../../../latest/guide/index.html" class="side-nav-link">Overview</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/release-notes/index.html" class="side-nav-link">Release notes</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/get-api/index.html" class="side-nav-link">Get the API</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/system-requirements/index.html" class="side-nav-link">System requirements</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Migrating from 3.x</h4><nav class="accordion-content"><a href="../../../../latest/guide/choose-version/index.html" class="side-nav-link">Choose a version</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/migrating/index.html" class="side-nav-link">Migrating from 3.x to 4.9</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/functionality-matrix/index.html" class="side-nav-link">3.x to 4.x functionality matrix</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Migrating from other APIs</h4><nav class="accordion-content"><a href="../../../../latest/guide/migrating-from-google-maps-to-arcgis-javascript-api/index.html" class="side-nav-link">Migrating from Google Maps API</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Working with the API</h4><nav class="accordion-content"><a href="../../../../latest/guide/working-with-props/index.html" class="side-nav-link">Properties</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-promises/index.html" class="side-nav-link">Promises</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/arcade/index.html" class="side-nav-link">Arcade</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/labeling/index.html" class="side-nav-link">Labeling</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/view-ui/index.html" class="side-nav-link">View UI</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/autocasting/index.html" class="side-nav-link">Autocasting</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/loadable/index.html" class="side-nav-link">Loadable</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-fromjson/index.html" class="side-nav-link">Using fromJSON()</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/typescript-setup/index.html" class="side-nav-link">TypeScript Setup</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/custom-widget/index.html" class="side-nav-link">Widget Development</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/implementing-accessor/index.html" class="side-nav-link">Implementing Accessor</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/styling/index.html" class="side-nav-link">Styling</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-platform/index.html" class="side-nav-link">Working with the ArcGIS platform</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/secure-resources/index.html" class="side-nav-link">Access Secure Resources</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-frameworks/index.html" class="side-nav-link">Using Frameworks</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-npm/index.html" class="side-nav-link">Using npm</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-webpack/index.html" class="side-nav-link">Using webpack</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/using-phonegap/index.html" class="side-nav-link">Using PhoneGap</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/intro-workflows/index.html" class="side-nav-link">Intro to Workflow Manager</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/working-with-scene-layers/index.html" class="side-nav-link">Working with scene layers</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Visualization</h4><nav class="accordion-content"><a href="../../../../latest/guide/visualization-overview/index.html" class="side-nav-link">Visualization Overview</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/creating-visualizations-manually/index.html" class="side-nav-link">Creating visualizations manually</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/visualizing-points-3d/index.html" class="side-nav-link">Visualizing points with 3D symbols</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Reference</h4><nav class="accordion-content"><a href="../../../../latest/guide/cors/index.html" class="side-nav-link">CORS</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/proxies/index.html" class="side-nav-link">Proxy pages</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/esri-icon-font/index.html" class="side-nav-link">Esri Icon Font</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/esri-web-style-symbols/index.html" class="side-nav-link">Esri Web Style Symbols</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/localization/index.html" class="side-nav-link">Localization</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/licensing/index.html" class="side-nav-link">Licensing &amp; Attribution</a></nav><nav class="accordion-content"><a href="../../../../latest/guide/faq/index.html" class="side-nav-link">FAQ</a></nav></div></aside><div class="column-6 js-sticky scroll-show tablet-hide" data-top="46"><a href="#" class="btn btn-fill btn-clear">Back to Top</a></div></div><div class="column-24 trailer-1 tablet-show"><select class="select-full trailer-half js-select-nav"><optgroup label="Get Started"><option value="../../../../latest/guide/index.html">Overview</option><option value="../../../../latest/guide/release-notes/index.html">Release notes</option><option value="../../../../latest/guide/get-api/index.html">Get the API</option><option value="../../../../latest/guide/system-requirements/index.html">System requirements</option></optgroup><optgroup label="Migrating from 3.x"><option value="../../../../latest/guide/choose-version/index.html">Choose a version</option><option value="../../../../latest/guide/migrating/index.html">Migrating from 3.x to 4.9</option><option value="../../../../latest/guide/functionality-matrix/index.html">3.x to 4.x functionality matrix</option></optgroup><optgroup label="Migrating from other APIs"><option value="../../../../latest/guide/migrating-from-google-maps-to-arcgis-javascript-api/index.html">Migrating from Google Maps API</option></optgroup><optgroup label="Working with the API"><option value="../../../../latest/guide/working-with-props/index.html">Properties</option><option value="../../../../latest/guide/working-with-promises/index.html">Promises</option><option value="../../../../latest/guide/arcade/index.html">Arcade</option><option value="../../../../latest/guide/labeling/index.html">Labeling</option><option value="../../../../latest/guide/view-ui/index.html">View UI</option><option value="../../../../latest/guide/autocasting/index.html">Autocasting</option><option value="../../../../latest/guide/loadable/index.html">Loadable</option><option value="../../../../latest/guide/using-fromjson/index.html">Using fromJSON()</option><option value="../../../../latest/guide/typescript-setup/index.html">TypeScript Setup</option><option value="../../../../latest/guide/custom-widget/index.html">Widget Development</option><option value="../../../../latest/guide/implementing-accessor/index.html">Implementing Accessor</option><option value="../../../../latest/guide/styling/index.html">Styling</option><option value="../../../../latest/guide/working-with-platform/index.html">Working with the ArcGIS platform</option><option value="../../../../latest/guide/secure-resources/index.html">Access Secure Resources</option><option value="../../../../latest/guide/using-frameworks/index.html">Using Frameworks</option><option value="../../../../latest/guide/using-npm/index.html">Using npm</option><option value="../../../../latest/guide/using-webpack/index.html">Using webpack</option><option value="../../../../latest/guide/using-phonegap/index.html">Using PhoneGap</option><option value="../../../../latest/guide/intro-workflows/index.html">Intro to Workflow Manager</option><option value="../../../../latest/guide/working-with-scene-layers/index.html">Working with scene layers</option></optgroup><optgroup label="Visualization"><option value="../../../../latest/guide/visualization-overview/index.html">Visualization Overview</option><option value="../../../../latest/guide/creating-visualizations-manually/index.html">Creating visualizations manually</option><option value="../../../../latest/guide/visualizing-points-3d/index.html">Visualizing points with 3D symbols</option></optgroup><optgroup label="Reference"><option value="../../../../latest/guide/cors/index.html">CORS</option><option value="../../../../latest/guide/proxies/index.html">Proxy pages</option><option value="../../../../latest/guide/esri-icon-font/index.html">Esri Icon Font</option><option value="../../../../latest/guide/esri-web-style-symbols/index.html">Esri Web Style Symbols</option><option value="../../../../latest/guide/localization/index.html">Localization</option><option value="../../../../latest/guide/licensing/index.html">Licensing &amp; Attribution</option><option value="../../../../latest/guide/faq/index.html">FAQ</option></optgroup></select></div><main class="column-17 tablet-column-12 pre-1 content-face"><article><div class="js-container-guide"><p></p><div class="trailer-1 right"><div class="dropdown js-dropdown"><button class="btn btn-transparent dropdown-btn js-dropdown-toggle" tabindex="0" aria-haspopup="true" aria-expanded="false">Release notes</button><div class="dropdown-menu" role="menu"><a href="../../../../latest/guide/release-notes/index.html" class="dropdown-link" role="menuitem">4.9 (current)</a><a href="../../../../latest/guide/release-notes/4.8/index.html" class="dropdown-link" role="menuitem">4.8</a><a href="../../../../latest/guide/release-notes/4.7/index.html" class="dropdown-link" role="menuitem">4.7</a><a href="../../../../latest/guide/release-notes/4.6/index.html" class="dropdown-link" role="menuitem">4.6</a><a href="../../../../latest/guide/release-notes/4.5/index.html" class="dropdown-link" role="menuitem">4.5</a><a href="../../../../latest/guide/release-notes/4.4/index.html" class="dropdown-link is-active" role="menuitem">4.4</a><a href="../../../../latest/guide/release-notes/4.3/index.html" class="dropdown-link" role="menuitem">4.3</a><a href="../../../../latest/guide/release-notes/4.2/index.html" class="dropdown-link" role="menuitem">4.2</a><a href="../../../../latest/guide/release-notes/4.1/index.html" class="dropdown-link" role="menuitem">4.1</a><a href="../../../../latest/guide/release-notes/4.0/index.html" class="dropdown-link" role="menuitem">4.0</a></div></div></div><p></p><h1 id="release-notes-for-44">Release notes for 4.4</h1><p></p><div class="table-of-contents"><ul><li><a href="#topics">Topics</a><ul><li><a href="#better-webmap-support">Better WebMap Support</a></li><li><a href="#new-point-styles-in-3d">New point styles in 3D</a></li><li><a href="#highlight-functionality-in-sceneview">Highlight functionality in SceneView</a></li><li><a href="#arcade-support-in-popuptemplate">Arcade support in PopupTemplate</a></li><li><a href="#smart-mapping-enhancements">Smart Mapping enhancements</a><ul><li><a href="#support-for-styling-building-data">Support for styling building data</a></li><li><a href="#support-for-generating-unique-types">Support for generating unique types</a></li><li><a href="#support-for-esri-vector-basemaps-in-generator-functions">Support for Esri vector basemaps in generator functions</a></li></ul></li><li><a href="#streamlayer-enhancements">StreamLayer enhancements</a></li><li><a href="#vectortilelayer-printing">VectorTileLayer Printing</a></li><li><a href="#improvements-in-3d-scenes">Improvements in 3D scenes</a><ul><li><a href="#styling-buildings-with-textures">Styling buildings with textures</a></li><li><a href="#pointcloudlayer-enhancements">PointCloudLayer enhancements</a></li><li><a href="#new-rotation-properties-for-3d-symbols">New rotation properties for 3D symbols</a></li></ul></li><li><a href="#modify-list-items-in-layerlist-with-more-flexibility">Modify list items in LayerList with more flexibility</a></li><li><a href="#more-widgets-supporting-widget-framework">More widgets supporting widget framework</a></li><li><a href="#ogc-support">OGC support</a></li><li><a href="#mapimagelayer-enhancements">MapImageLayer enhancements</a></li><li><a href="#new-apis-for-creating-custom-layer-types">New APIs for creating custom layer types</a></li><li><a href="#kinetic-panning">Kinetic panning</a></li><li><a href="#popup-queries-return-all-intersecting-features">Popup queries return all intersecting features</a></li></ul></li><li><a href="#api-updates-and-enhancements">API updates and enhancements</a></li><li><a href="#breaking-changes">Breaking changes</a></li><li><a href="#bug-fixes-and-enhancements">Bug fixes and enhancements</a></li><li><a href="#additional-packages">Additional packages</a></li></ul></div><p></p><h2 id="topics">Topics</h2><h3 id="better-webmap-support">Better WebMap Support</h3><p>In this release, we're adding three new layer types: <a href="../../../api-reference/esri-layers-MapNotesLayer.html">MapNotesLayer</a>, <a href="../../../api-reference/esri-layers-WMSLayer.html">WMSLayer</a> and <a href="../../../api-reference/esri-layers-WMTSLayer.html">WMTSLayer</a>. This means most web maps can now be read using the 4.x API. Not yet supported web map features include full label support, heatmap rendering, KML, Bing, WFS, and time support.</p><h3 id="new-point-styles-in-3d">New point styles in 3D</h3><p>Several options were added to the API improving the visualization of point data in city scenes. This is particularly apparent when visualizing points of interest in a city. These new options include:</p><ul><li><strong>The <a href="../../../api-reference/esri-layers-FeatureLayer.html#elevationInfo">relative-to-scene</a> elevation mode</strong> - This allows you to display point graphics above buildings without them conflicting with 3D geometries.</li><li><strong><a href="../../../api-reference/esri-symbols-callouts-LineCallout3D.html">Line callouts</a></strong> - Add callouts (or leader lines) to icons or labels that point to the locations of each feature.</li><li><strong><a href="../../../api-reference/esri-layers-FeatureLayer.html#screenSizePerspectiveEnabled">screenSizePerspective</a></strong> - Applies to layers with <a href="../../../api-reference/esri-geometry-Point.html">point</a> geometries. This option (which is enabled by default) improves the depth perception of billboarded icons and labels in tilted views.</li><li><strong><a href="../../../api-reference/esri-layers-FeatureLayer.html#featureReduction">featureReduction</a></strong> - This option declutters the view by hiding icons that overlap. This is useful for scenes heavily cluttered with overlapping icons and labels.</li><li><strong><a href="../../../api-reference/esri-symbols-TextSymbol3DLayer.html#halo">Halos</a> in <a href="../../../api-reference/esri-symbols-TextSymbol3DLayer.html">TextSymbol3DLayers</a></strong> - Halos improves the readability of labels in scenes.</li></ul><p>To see how to create city scenes with easily readable point information, see the <a href="../../../sample-code/visualization-point-styles/index.html">Point styles for cities sample</a>.</p><p><a href="../../../sample-code/visualization-point-styles/index.html"><img src="../../../../assets/img/guide/whats-new/44/point-city-style.png" alt="city-style"></a></p><p>These new styles were developed to be used for points in cities, but are not limited to that. In the <a href="../../../sample-code/visualization-label-callout/index.html">Using callout lines with labels sample</a>, you can learn how to use them for displaying mountain peaks:</p><p><a href="../../../sample-code/visualization-label-callout/index.html"><img src="../../../../assets/img/apiref/symbols/symbols3D-line-callout-2.png" alt="label-callout"></a></p><h3 id="highlight-functionality-in-sceneview">Highlight functionality in SceneView</h3><p>The <a href="../../../api-reference/esri-views-layers-FeatureLayerView.html#highlight">highlight()</a> method was added to <a href="../../../api-reference/esri-views-layers-FeatureLayerView.html">FeatureLayerView</a> and <a href="../../../api-reference/esri-views-layers-SceneLayerView.html">SceneLayerView</a> allowing you to select, or highlight, features so they are prominent in the view. You can also customize the color and opacity of the highlight symbol with the <a href="../../../api-reference/esri-views-SceneView.html#highlightOptions">highlightOptions</a> property.</p><p><img src="../../../../assets/img/guide/whats-new/44/highlight.png" alt="highlight-3D"></p><p>This feature is only supported in 3D. Support in 2D will be added in another release.</p><p>See the following new samples demonstrating how to highlight features:</p><ul><li><a href="../../../sample-code/highlight-point-features/index.html">Highlight point features</a> - Learn how to use highlight with mouseover events.</li><li><a href="../../../sample-code/highlight-scenelayer/index.html">Highlight SceneLayer</a> - Select a room number from a list to highlight it in the view.</li></ul><p><a href="../../../sample-code/highlight-scenelayer/index.html"><img src="../../../../assets/img/guide/whats-new/44/highlight-sceneLayer.png" alt="highlight-scene-layer"></a></p><h3 id="arcade-support-in-popuptemplate">Arcade support in PopupTemplate</h3><p>Values returned from Arcade expressions can be referenced within the <a href="../../../api-reference/esri-PopupTemplate.html#content">content</a> property of a <a href="../../../api-reference/esri-PopupTemplate.html">PopupTemplate</a>. This is supported as part of the new <a href="../../../guide/arcade/index.html#popups">popup Arcade profile</a>. Similar to the <a href="../../../guide/arcade/index.html#visualization">visualization</a> profile, this is useful for situations when you want to display data that isn't present as an attribute value in your <a href="../../../api-reference/esri-layers-FeatureLayer.html">FeatureLayer</a> instance.</p><p>To view a value returned from an expression in the popup, you must reference it in the <a href="../../../api-reference/esri-PopupTemplate.html#expressionInfos">expressionInfos</a> property of the PopupTemplate and assign it a <code>name</code> and a <code>title</code>, then place the name of the expression in a placeholder (e.g. <code>{expression/expression-name}</code>) to be replaced at runtime when the expression executes.</p><pre><code class="js">layer.popupTemplate = {
  <span class="hljs-attr">expressionInfos</span>: [{
    <span class="hljs-attr">name</span>: <span class="hljs-string">"participation-rate"</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-string">"% of population 16+ participating in the labor force"</span>,
    <span class="hljs-attr">expression</span>: <span class="hljs-string">"Round(($feature.CIVLBFR_CY / $feature.POP_16UP)*100,2)"</span>
  }],
  <span class="hljs-attr">content</span>: <span class="hljs-string">"In {NAME} county, {expression/participation-rate}% of the population"</span>
    + <span class="hljs-string">" participates in the labor force."</span>
};
</code></pre><p>In the snippet above, values from the <code>CIVLBFR_CY</code> and <code>POP_16UP</code> fields are used to calculate the labor force participation rate for each county. The PopupTemplate defined above would yield the following result when the Greenlee, AZ feature is clicked.</p><p><img src="../../../../assets/img/guide/arcade/arcade-popup-text.png" alt="arcade-popup-text"></p><p>See the following resources related to Arcade and popups that are new to 4.4:</p><ul><li><a href="../../../guide/arcade/index.html#popups">Guide topic: Arcade - Popup profile</a></li><li><a href="../../../sample-code/popuptemplate-arcade/index.html">Sample: Reference Arcade expressions in PopupTemplate</a></li><li><a href="../../../api-reference/esri-PopupTemplate.html#expressionInfos">API reference: PopupTemplate.expressionInfos</a></li></ul><h3 id="smart-mapping-enhancements">Smart Mapping enhancements</h3><h4 id="support-for-styling-building-data">Support for styling building data</h4><p>The Smart Mapping <a href="../../../api-reference/esri-renderers-smartMapping-creators-color.html">color</a> and <a href="../../../api-reference/esri-renderers-smartMapping-creators-type.html">type</a> renderer and visual variable creators now support <a href="../../../api-reference/esri-layers-SceneLayer.html">SceneLayers</a> with <code>mesh</code> geometries. See the <a href="../../../sample-code/visualization-sm-color-mesh/index.html">Generate continuous color visualization for 3D buildings</a> to see this in action.</p><p><a href="../../../sample-code/visualization-sm-color-mesh/index.html"><img src="../../../../assets/img/guide/whats-new/44/sm-mesh.png" alt="sm-mesh"></a></p><p>The following are new modules at 4.4 associated with the Smart Mapping APIs:</p><ul><li><a href="../../../api-reference/esri-renderers-smartMapping-creators-type.html">typeRendererCreator</a></li><li><a href="../../../api-reference/esri-renderers-smartMapping-symbology-type.html">typeSchemes</a></li><li><a href="../../../api-reference/esri-renderers-smartMapping-statistics-uniqueValues.html">uniqueValues</a></li></ul><h4 id="support-for-generating-unique-types">Support for generating unique types</h4><p>The new <a href="../../../api-reference/esri-renderers-smartMapping-creators-type.html">typeRendererCreator</a> object allows you to generate a <a href="../../../api-reference/esri-renderers-UniqueValueRenderer.html">UniqueValueRenderer</a> for a given field with a color scheme suited well for the given basemap. See the <a href="../../../sample-code/visualization-sm-types/index.html">Generate data-driven visualization of unique values</a> sample for an example of how this works.</p><p><a href="../../../sample-code/visualization-sm-types/index.html"><img src="../../../../assets/img/guide/whats-new/44/sm-types.png" alt="sm-types"></a></p><h4 id="support-for-esri-vector-basemaps-in-generator-functions">Support for Esri vector basemaps in generator functions</h4><p><a href="../../../api-reference/esri-layers-VectorTileLayer.html">Vector tile basemaps</a> are now supported in all visual variable and renderer creator functions.</p><h3 id="streamlayer-enhancements">StreamLayer enhancements</h3><p>We added <a href="../../../api-reference/esri-views-layers-StreamLayerView.html">StreamLayerView</a>, which allows you to filter features by attribute values and geometry for a specific layer view of a <a href="../../../api-reference/esri-layers-StreamLayer.html">StreamLayer</a> instance. For example, you can add the same StreamLayer to multiple views and filter those views based on different expressions and extents. Filtering on the StreamLayer instance will update all associated layer views with the same filter.</p><pre><code class="js">mapView.whenLayerView(layer)
  .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">layerView</span>)</span>{
    <span class="hljs-comment">// updates the filter on only the given layer view</span>
    layerView.updateFilter({
      <span class="hljs-attr">where</span>: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// removes the attribute filter</span>
      geometry: view.extent.clone()  <span class="hljs-comment">// filters by the view extent</span>
    });
  });
</code></pre><p>StreamLayerView also includes properties such as <a href="../../../api-reference/esri-views-layers-StreamLayerView.html#connectionStatus">connectionStatus</a> and <a href="../../../api-reference/esri-views-layers-StreamLayerView.html#graphics">graphics</a>. The <code>connectionStatus</code> can be watched to know when the layer view loses connection with the stream service. The <code>graphics</code> property contains all the graphics visible in the view.</p><p>These API updates introduce breaking changes. The <a href="../../../sample-code/layers-streamlayer/index.html">SteamLayer sample</a> was updated to reflect these updates.</p><h3 id="vectortilelayer-printing">VectorTileLayer Printing</h3><p>This release of the JavaScript API adds support for printing <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayers</a>. Please see the <a href="../../../api-reference/esri-tasks-PrintTask.html">PrintTask</a> document for additional details and the <a href="../../../sample-code/widgets-print-vectortiles/index.html">Print widget using a VectorTileLayer</a> sample.</p><h3 id="improvements-in-3d-scenes">Improvements in 3D scenes</h3><h4 id="styling-buildings-with-textures">Styling buildings with textures</h4><p>We added the <code>colorMixMode</code> property on the <a href="../../../api-reference/esri-symbols-FillSymbol3DLayer.html#material">material</a> of a <a href="../../../api-reference/esri-symbols-MeshSymbol3D.html">MeshSymbol3D</a> to make it easier for the user to style buildings with textures. Buildings may be visualized by colorizing textures or by defining a color to replace the textures.</p><p><a href="../../../sample-code/layers-scenelayer-color-mix-mode/index.html"><img src="../../../../assets/img/guide/whats-new/44/sm-color-mix-mode.png" alt="sm-color-mix-mode"></a></p><h4 id="pointcloudlayer-enhancements">PointCloudLayer enhancements</h4><p>The <a href="../../../api-reference/esri-renderers-PointCloudUniqueValueRenderer.html">PointCloudUniqueValueRenderer</a> (added at 4.3) allows you to distinguish different types of objects depicted in the point cloud, such as houses, streets, vegetation, etc. At 4.4, you can set the <a href="../../../api-reference/esri-renderers-PointCloudRenderer.html#colorModulation">colorModulation</a> property on <code>PointCloudUniqueValueRenderer</code>, which uses the <code>Intensity</code> field to add natural lighting conditions. This helps distinguish the actual appearance of the objects, which was more difficult for layers that applied this renderer at 4.3.</p><p>As a comparison, the left-hand scene uses <code>colorModulation</code> whereas the right does not.</p><p><a href="../../../sample-code/layers-pointcloud-color-modulation/index.html"><img src="../../../../assets/img/guide/whats-new/44/color-modulation.png" alt="PointCloudLayer - intensity color modulation"></a></p><p>See how to use this property in the <a href="../../../sample-code/layers-pointcloud-color-modulation/index.html">PointCloudLayer - intensity color modulation sample</a>.</p><h4 id="new-rotation-properties-for-3d-symbols">New rotation properties for 3D symbols</h4><p>We added support for rotation around all axes of the <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html">ObjectSymbol3DLayer</a> so that you can better place 3D symbols in the scene.</p><p>New properties:</p><ul><li><a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html#tilt">tilt</a></li><li><a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html#roll">roll</a></li></ul><h3 id="modify-list-items-in-layerlist-with-more-flexibility">Modify list items in LayerList with more flexibility</h3><p>At 4.4, <a href="../../../api-reference/esri-widgets-LayerList.html#createActionsFunction">createActionsFunction</a> was deprecated and replaced with <a href="../../../api-reference/esri-widgets-LayerList.html#listItemCreatedFunction">listItemCreatedFunction</a>. With this new LayerList property you can modify any writable property of each ListItem used in your LayerList instance. This gives you more flexibility in customizing the LayerList widget. For example, now you can set the visibility, title, and actions for a list item instead of being restricted to only defining the actions. You also have direct access to the item's associated layer, and can modify its properties if needed.</p><p>The <a href="../../../sample-code/widgets-layerlist-actions/index.html">LayerList widget with actions</a> sample has been modified to follow this updated pattern.</p><pre><code class="js"><span class="hljs-keyword">var</span> layerList = <span class="hljs-keyword">new</span> LayerList({
  <span class="hljs-comment">// new property in 4.4</span>
  listItemCreatedFunction: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-keyword">var</span> actions = [ ... ];  <span class="hljs-comment">// define actions here</span>
    <span class="hljs-comment">// actions are set on list item object</span>
    event.item.actionsSections = actions;
  }
});
</code></pre><p>Prior to 4.4, you defined actions with a function passed to the <a href="../../../api-reference/esri-widgets-LayerList.html#createActionsFunction">createActionsFunction</a> property. However, this function only set actions and couldn't modify other list item properties.</p><pre><code class="js"><span class="hljs-keyword">var</span> layerList = <span class="hljs-keyword">new</span> LayerList({
  <span class="hljs-comment">// this property is deprecated in 4.4</span>
  createActionsFunction: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> actions = [ ... ];  <span class="hljs-comment">// define actions here</span>
    <span class="hljs-comment">// actions had to be returned</span>
    <span class="hljs-keyword">return</span> actions;
  }
});
</code></pre><h3 id="more-widgets-supporting-widget-framework">More widgets supporting widget framework</h3><p>In this release, the following widgets have been updated to the widget framework, initially introduced at 4.2: <a href="../../../api-reference/esri-widgets-Legend.html">Legend</a>, <a href="../../../api-reference/esri-widgets-Popup.html">Popup</a>, and <a href="../../../api-reference/esri-widgets-Search.html">Search</a>.</p><h3 id="ogc-support">OGC support</h3><p>The new <a href="../../../api-reference/esri-layers-WMSLayer.html">WMSLayer</a> allows you to display WMS services in 2D MapViews. The new <a href="../../../api-reference/esri-layers-WMTSLayer.html">WMTSLayer</a> allows you to display WMTS services in 2D MapViews.</p><h3 id="mapimagelayer-enhancements">MapImageLayer enhancements</h3><p><a href="../../../api-reference/esri-layers-MapImageLayer.html">MapImageLayer</a> added support for displaying images with higher definition in hi-dpi devices. See the images below for a comparison between an image exported from a map service in 4.3 versus 4.4 as viewed on a retina display.</p><table class="table"><thead><tr><th>MapImageLayer on retina display in <strong>4.3</strong></th><th>MapImageLayer on retina display in <strong>4.4</strong></th></tr></thead><tbody><tr><td><img src="../../../../assets/img/guide/whats-new/44/mil-43.png" alt="mil-43"></td><td><img src="../../../../assets/img/guide/whats-new/44/mil-44.png" alt="mil-44"></td></tr></tbody></table><h3 id="new-apis-for-creating-custom-layer-types">New APIs for creating custom layer types</h3><p>Three classes were added to the ArcGIS 4.4 API for JavaScript, providing APIs for creating custom layer types:</p><ul><li><a href="../../../api-reference/esri-layers-BaseTileLayer.html">BaseTileLayer</a></li><li><a href="../../../api-reference/esri-layers-BaseDynamicLayer.html">BaseDynamicLayer</a></li><li><a href="../../../api-reference/esri-layers-BaseElevationLayer.html">BaseElevationLayer</a></li></ul><p>While the ArcGIS API for JavaScript provides many useful predefined <a href="../../../api-reference/esri-layers-Layer.html#layer-types">layer types</a>, they may not satisfy the needs of specific applications. Now users can extend any of the classes mentioned above to create custom layers, which is useful when you need to:</p><ul><li>display data from a source not explicitly supported in the ArcGIS API for JavaScript</li><li>preprocess data before it is displayed in the view (this could be because the service returns binary data, which needs to be processed to generate an image)</li><li>create custom visualizations not explicitly supported in the API</li><li>display synthesized data such as an exaggerated elevation</li></ul><p><a href="../../../sample-code/layers-custom-elevation-thematic/index.html"><img src="../../../../assets/img/samples/custom-temp-layer-globe.png" alt="custom-temp-layer-globe"></a></p><p>We added the following samples to demonstrate the basic fundamentals of creating custom layers:</p><ul><li><a href="../../../sample-code/layers-custom-tilelayer/index.html">Custom TileLayer</a></li><li><a href="../../../sample-code/layers-custom-blendlayer/index.html">Custom BlendLayer</a></li><li><a href="../../../sample-code/layers-custom-lerc-2d/index.html">Custom LERC Layer</a></li><li><a href="../../../sample-code/layers-custom-dynamiclayer/index.html">Custom DynamicLayer</a></li><li><a href="../../../sample-code/layers-custom-elevation-exaggerated/index.html">Custom ElevationLayer - Exaggerating elevation</a></li><li><a href="../../../sample-code/layers-custom-elevation-thematic/index.html">Custom ElevationLayer - Thematic data as elevation</a></li></ul><p>Writing a custom layer enables you to support the drawing of new data formats. Before you get started on creating custom layers, it is helpful to have some familiarity with the following topics:</p><ul><li><a href="../../../guide/implementing-accessor/index.html">Implementing Accessor</a></li><li><a href="../../../guide/loadable/index.html">Understanding the loadable pattern</a></li></ul><h3 id="kinetic-panning">Kinetic panning</h3><p>Support was added at 4.4 for kinetic panning in <a href="../../../api-reference/esri-views-MapView.html">MapView</a> navigation. Kinetic panning provides a smoother navigation experience than previous releases.</p><table class="table"><thead><tr><th>Panning in <strong>4.3</strong></th><th>Kinetic panning in <strong>4.4</strong></th></tr></thead><tbody><tr><td><img src="../../../../assets/img/guide/whats-new/44/pan-43.gif" alt="pan-43"></td><td><img src="../../../../assets/img/guide/whats-new/44/kinetic-pan.gif" alt="kinetic-pan"></td></tr></tbody></table><h3 id="popup-queries-return-all-intersecting-features">Popup queries return all intersecting features</h3><p>When clicking a layer in a <a href="../../../api-reference/esri-views-MapView.html">MapView</a> to view a popup, content for all features intersecting the clicked location is returned to the popup. Prior to 4.4, the popup only displayed information from the top-most feature intersecting the clicked location.</p><h2 id="api-updates-and-enhancements">API updates and enhancements</h2><ul><li>Added support for kinetic panning to the <a href="../../../api-reference/esri-views-MapView.html">MapView</a>.</li><li>Added <a href="../../../api-reference/esri-layers-WMSLayer.html">WMSLayer</a>.</li><li>Added <a href="../../../api-reference/esri-layers-WMTSLayer.html">WMTSLayer</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-WMTSSublayer.html">WMTSSublayer</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-WMSSublayer.html">WMSSublayer</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-WMTSStyle.html">WMTSStyle</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-FeatureType.html">FeatureType</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-FeatureTemplate.html">FeatureTemplate</a>.</li><li>Added <a href="../../../api-reference/esri-layers-support-TileMatrixSet.html">TileMatrixSet</a>.</li><li>Added highlight methods on <a href="../../../api-reference/esri-views-layers-FeatureLayerView.html#highlight">FeatureLayerView</a>, <a href="../../../api-reference/esri-views-layers-CSVLayerView.html#highlight">CSVLayerView.</a>, <a href="../../../api-reference/esri-views-layers-SceneLayerView.html#highlight">SceneLayerView</a>, <a href="../../../api-reference/esri-views-layers-GraphicsLayerView.html#highlight">GraphicsLayerView</a> and <a href="../../../api-reference/esri-views-SceneView.html#highlightOptions">highlightOptions</a> on the <a href="../../../api-reference/esri-views-SceneView.html">SceneView</a>.</li><li>Added <a href="../../../api-reference/esri-views-layers-CSVLayerView.html">CSVLayerView</a> and <a href="../../../api-reference/esri-views-layers-StreamLayerView.html">StreamLayerView</a>.</li><li>Added <a href="../../../api-reference/esri-symbols-PointSymbol3D.html#callout">callout</a> and <a href="../../../api-reference/esri-symbols-PointSymbol3D.html#verticalOffset">verticalOffset</a> on <a href="../../../api-reference/esri-symbols-LabelSymbol3D.html">LabelSymbol3D</a> and <a href="../../../api-reference/esri-symbols-PointSymbol3D.html">PointSymbol3D</a>.</li><li>Added <a href="../../../api-reference/esri-symbols-callouts-Callout3D.html">Callout3D</a> and <a href="../../../api-reference/esri-symbols-callouts-LineCallout3D.html">LineCallout3D</a>.</li><li>Added <a href="../../../api-reference/esri-layers-FeatureLayer.html#featureReduction">featureReduction</a> to declutter point features in layers with <a href="../../../api-reference/esri-geometry-Point.html">point</a> geometry.</li><li>Added <a href="../../../api-reference/esri-layers-FeatureLayer.html#screenSizePerspectiveEnabled">screenSizePerspectiveEnabled</a> for a better depth perception of layers with <a href="../../../api-reference/esri-geometry-Point.html">point</a> geometry.</li><li>Added <code>colorMixMode</code> property on <a href="../../../api-reference/esri-symbols-FillSymbol3DLayer.html#material">material</a> for <a href="../../../api-reference/esri-symbols-MeshSymbol3D.html">MeshSymbol3D</a>.</li><li>Added <code>colorMixMode</code> option on <a href="../../../api-reference/esri-renderers-smartMapping-creators-location.html#createRenderer">createRenderer()</a> method in <a href="../../../api-reference/esri-renderers-smartMapping-creators-location.html">locationRendererCreator</a>.</li><li>Added <code>colorMixMode</code> option on <a href="../../../api-reference/esri-renderers-smartMapping-creators-color.html#createContinuousRenderer">createContinuousRenderer()</a> method in <a href="../../../api-reference/esri-renderers-smartMapping-creators-color.html">colorRendererCreator</a>.</li><li>Added <a href="../../../api-reference/esri-renderers-PointCloudRenderer.html#colorModulation">colorModulation</a> property to <a href="../../../api-reference/esri-renderers-PointCloudRenderer.html">PointCloudRenderer</a>.</li><li>Added <a href="../../../api-reference/esri-layers-PointCloudLayer.html#elevationInfo">elevationInfo</a> property to <a href="../../../api-reference/esri-layers-PointCloudLayer.html">PointCloudLayer</a>.</li><li>Added <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html#roll">roll</a> and <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html#tilt">tilt</a> on <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html">ObjectSymbol3DLayer</a>.</li><li>Added <a href="../../../api-reference/esri-symbols-TextSymbol3DLayer.html#halo">halo</a> on <a href="../../../api-reference/esri-symbols-TextSymbol3DLayer.html">TextSymbol3DLayer</a>.</li><li>Added <code>relative-to-scene</code> as a new <a href="../../../api-reference/esri-layers-FeatureLayer.html#elevationInfo">elevation mode</a>.</li><li>Added <a href="../../../api-reference/esri-portal-Portal.html#helperServices">helperServices</a> property to <a href="../../../api-reference/esri-portal-Portal.html">Portal</a>.</li><li>Added <a href="../../../api-reference/esri-portal-Portal.html#defaultVectorBasemap">defaultVectorBasemap</a>, <a href="../../../api-reference/esri-portal-Portal.html#useVectorBasemaps">useVectorBasemaps</a> and <a href="../../../api-reference/esri-portal-Portal.html#vectorBasemapGalleryGroupQuery">vectorBasemapGalleryGroupQuery</a> properties to <a href="../../../api-reference/esri-portal-Portal.html">Portal</a>.</li><li>Added <a href="../../../api-reference/esri-portal-PortalGroup.html#getThumbnailUrl">getThumbnailUrl</a> method and <a href="../../../api-reference/esri-portal-PortalGroup.html#thumbnailUrl">thumbnailUrl</a> property to <a href="../../../api-reference/esri-portal-PortalGroup.html">PortalGroup</a></li><li>Added two methods on Search widget: <a href="../../../api-reference/esri-widgets-Search.html#blur">blur</a> and <a href="../../../api-reference/esri-widgets-Search.html#focus">focus</a> that bring focus or unfocuses the widget's text input.</li><li>Added two events on Search widget: <a href="../../../api-reference/esri-widgets-Search.html#event:search-blur">search-blur</a> and <a href="../../../api-reference/esri-widgets-Search.html#event:search-focus">search-focus</a> that fires when the widget's text input sets/loses focus.</li><li>Added four new properties to <a href="../../../api-reference/esri-layers-FeatureLayer.html">FeatureLayer</a>: <a href="../../../api-reference/esri-layers-FeatureLayer.html#displayField">displayField</a>, <a href="../../../api-reference/esri-layers-FeatureLayer.html#typeIdField">typeIdField</a>, <a href="../../../api-reference/esri-layers-FeatureLayer.html#templates">templates</a>, and <a href="../../../api-reference/esri-layers-FeatureLayer.html#types">types</a>.</li><li>Added additional objects to <a href="../../../api-reference/esri-layers-FeatureLayer.html#capabilities">capabilities</a> property of <a href="../../../api-reference/esri-layers-FeatureLayer.html">FeatureLayer</a>.</li><li>Added a new return type <code>Promise</code> for <a href="../../../api-reference/esri-PopupTemplate.html#content">content</a> property of <a href="../../../api-reference/esri-PopupTemplate.html">PopupTemplate</a>. See <a href="../../../sample-code/popuptemplate-promise/index.html">PopupTemplate with Promise Sample</a></li><li>Removed showSocialLogin property from the <a href="../../../api-reference/esri-identity-OAuthInfo.html">OAuthInfo</a> class. Social logins decisions are now part of the organizational settings so this property is no longer relevant.</li><li>The IdentityManager's <a href="../../../api-reference/esri-identity-IdentityManager.html#registerToken">registerToken</a> method now accepts server tokens in addition to portal tokens.</li><li>Removed beta from <a href="../../../api-reference/esri-layers-SceneLayer.html#definitionExpression">definitionExpression</a> and it can now be saved to a webscene.</li><li>Added support for <a href="../../../api-reference/esri-layers-ImageryLayer.html">ImageryLayer</a> in <a href="../../../api-reference/esri-views-SceneView.html">SceneView</a>.</li><li>The Esri-hosted <a href="https://www.arcgis.com/home/group.html?id=30de8da907d240a0bccd5ad3ff25ef4a">vector basemap layers</a> have been updated out of beta support and into version 1.0.</li><li>Added two new properties on <a href="../../../api-reference/esri-layers-ImageryLayer.html">ImageryLayer</a>: <a href="../../../api-reference/esri-layers-ImageryLayer.html#imageMaxHeight">imageMaxHeight</a> and <a href="../../../api-reference/esri-layers-ImageryLayer.html#imageMaxWidth">imageMaxWidth</a>.</li></ul><h2 id="breaking-changes">Breaking changes</h2><ul><li>As of version 4.4, the response for the <a href="../../../api-reference/esri-tasks-Locator.html#locationToAddress">locator.locationToAddress()</a> method returns a proper <a href="../../../api-reference/esri-tasks-support-AddressCandidate.html">AddressCandidate</a>. This bug fix affects two of five AddressCandidate properties: <code>address</code> and <code>attributes</code>. Note that there are no changes to the other AddressCandidate properties: <code>extent</code>, <code>location</code> and <code>score</code>.<ul><li>Prior to 4.4, <code>locationToAddress()</code> incorrectly returned an object that always had an empty <code>attributes</code> property, and the <code>address</code> string was an object. As of 4.4, the <code>address</code> property is a string, and the <code>attributes</code> property will be populated.</li><li>Specifying an exact field, e.g. <code>CountryCode</code>, should now be written as <code>attributes.CountryCode</code>. (Prior to this version, it was written as <code>address.CountryCode</code>.)</li><li>The <a href="../../../sample-code/intro-popup/">popup sample using reverse geocoding</a> has been updated to reflect this change.</li></ul></li><li><a href="../../esri-icon-font/index.html">Esri icon font</a> styles and codes have been updated, resulting in some codes being changed or used for new icon fonts.</li><li><a href="../../../api-reference/esri-views-ViewAnimation.html#stop">ViewAnimation.stop()</a> now rejects the <a href="../../../api-reference/esri-views-ViewAnimation.html">ViewAnimation</a> promise.</li><li><a href="../../../api-reference/esri-symbols-Symbol3DLayer.html#type">3D Symbol layer types</a> changed name style and now use kebab-casing to be consistent with the rest of the API.</li><li>The orientation of 3D <a href="../../../guide/esri-web-style-symbols/index.html">WebStyleSymbols</a> was updated. Now the forward-facing side of the symbol points in the direction of the y-axis (North). Setting a <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html#heading">heading</a> of <code>0</code> on a <a href="../../../api-reference/esri-symbols-ObjectSymbol3DLayer.html">ObjectSymbol3DLayer</a> will make the symbol point North and setting it to <code>180</code> will make the symbol point South. In comparison to the old styles, <a href="../../../guide/esri-web-style-symbols/index.html#signs-and-signals">Signs and signals</a> and <a href="../../../guide/esri-web-style-symbols/index.html#street-scene">Street scene</a> changed orientation by 180 degrees and <a href="../../../guide/esri-web-style-symbols/index.html#transportation">Transportation</a> changed by 90 degrees.</li><li>As of version 4.x, the recommended approach to pass a token on a layer is to use IdentityManager.registerToken(). Prior to this in 3.x, it was possible to pass a token to a layer either via 1) the layer's <code>token</code> property, or 2) appending it to the end of the layer URL.</li><li>The <a href="../../../api-reference/esri-widgets-Search.html#sources">Search widget's sources property</a> has a new <code>filter</code> option which replaces the now deprecated <code>searchQueryParams</code>, <code>suggestQueryParams</code>, and <code>searchExtent</code> property.</li><li>If developing custom widgets, configuration settings should be updated to reflect <code>&quot;jsxFactory&quot;: &quot;tsx&quot;,</code> instead of <code>&quot;reactNamespace&quot;: &quot;jsxFactory&quot;,</code>. This is discussed in the <a href="../../../guide/typescript-setup/index.html">TypeScript setup</a> guide topic.</li><li>For the light values passed into <a href="../../../api-reference/esri-views-3d-externalRenderers.html">external renderers</a>, the balance between ambient and diffuse lighting has changed. This may result in a slightly different appearance for objects rendered with external renderers. The new light values represent colors/intensities in linear color space, and are optimized for gamma-corrected rendering with a gamma value of 2.1.</li><li>At 4.4, the <a href="../../../api-reference/esri-views-View.html#event:click">view.click</a> event will close the <a href="../../../api-reference/esri-widgets-Popup.html">popup</a> if the clicked location doesn't intersect a feature with a popup template. You may want to disable this default behavior if opening the popup with custom content or keep it open when the view is clicked. To do so, you must call <code>stopPropagation()</code> on the click event object.</li></ul><h2 id="bug-fixes-and-enhancements">Bug fixes and enhancements</h2><ul><li>BUG-000103658: Fixed an issue where <a href="../../../api-reference/esri-layers-CSVLayer.html">CSVLayer</a> stopped working in 2D <a href="../../../api-reference/esri-views-MapView.html">MapViews</a>.</li><li>BUG-000103515: <a href="../../../api-reference/esri-views-SceneView.html">SceneView</a> now proxies requests correctly if an external proxy file is supplied.</li><li>BUG-000102949: <a href="../../../api-reference/esri-views-SceneView.html">SceneView</a> now honors parent layer visibility when working with sublayers.</li><li>BUG-000102421: Fixed an issue where Esri basemaps would disappear at certain levels while attempting to create a local <a href="../../../api-reference/esri-views-SceneView.html">scene</a>.</li><li>BUG-000103866: <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayer</a> no longer replaces symbols with black square images.</li><li>BUG-000103662: Fixed an issue where browsers would run out of memory when <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayer</a> sprites had incorrect width and height.</li><li><a href="https://community.esri.com/thread/193825-html-copyright-in-attribution-at-4x">GEONET-193825</a>: At version 4.3, the copyright in <a href="../../../api-reference/esri-widgets-Attribution.html">Attribution widget</a> displayed as text instead of html. This has been fixed, and copyright can have clickable copyrights again.</li><li>BUG-000104743: Fixed an issue where the 'Set Scale' option on the <a href="../../../api-reference/esri-widgets-Print.html">Print widget</a> did not set the output scale of the printed image.</li><li>BUG-000104694: Tooltip text for <a href="../../../api-reference/esri-widgets-Locate.html">Locate widget</a> now displays correct text.</li><li>BUG-000104601: Filtering of <a href="../../../api-reference/esri-widgets-Search.html">Search widget's</a> suggests and search results now works as expected using a specified SQL filter.</li><li>BUG-000104154: Fixed an issue where intermittent missing glyphs would result when working with <a href="../../../api-reference/esri-layers-VectorTileLayer.html">VectorTileLayers</a> and Chinese characters.</li><li>BUG-000104472: Fixed an issue where setting a MapView's <a href="../../../api-reference/esri-views-MapView.html#constraints">rotationEnabled</a> constraint to false caused the pinch/zoom functionality to stop working in mobile devices.</li><li>BUG-000104500: It is now possible to uninstantiate the <a href="../../../api-reference/esri-views-MapView.html#container">MapView's container</a> and reinstantiate.</li><li>BUG-000103106: Fixed an issue when zooming in on a map using a mouse wheel caused the map to begin panning.</li><li>BUG-000103106: Fixed an issue where popups stopped working when switching between web maps.</li><li>NIM098641: Now able to add WMTS layers as a <a href="../../../api-reference/esri-Basemap.html">basemap</a> to the <a href="../../../api-reference/esri-widgets-BasemapGallery.html">BasemapGallery</a> widget.</li><li>Fixed an issue where the Search widget resulted in an invalid regular expressions when typing special characters such as <code>(</code>or <code>]</code>.</li><li>Fixed an issue where the <a href="../../../api-reference/esri-views-MapView.html#zoom">zoom</a> factor was not honored in views created via web maps.</li><li>Fixed an issue where small gaps displayed between tiles using Firefox, Edge, IE11 and Safari browsers.</li></ul><h2 id="additional-packages">Additional packages</h2><p>Version 4.4 of the ArcGIS API for JavaScript uses <a href="https://github.com/dojo/docs/blob/master/releasenotes/1.12.rst">Dojo 1.12.2</a> (since 4.4), <a href="http://dgrid.io/">dgrid</a> version 1.1.0 (since 4.1), and <a href="http://dstorejs.io/">dstore</a> version 1.1.1 (since 4.0).</p><p></p><div class="panel trailer-1"><h4>Previous releases</h4><ul><li><strong><a href="../../../../latest/guide/release-notes/4.8/index.html">Version 4.8</a></strong> - July 2018</li><li><strong><a href="../../../../latest/guide/release-notes/4.7/index.html">Version 4.7</a></strong> - April 2018</li><li><strong><a href="../../../../latest/guide/release-notes/4.6/index.html">Version 4.6</a></strong> - December 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.5/index.html">Version 4.5</a></strong> - September 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.4/index.html">Version 4.4</a></strong> - July 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.3/index.html">Version 4.3</a></strong> - March 2017</li><li><strong><a href="../../../../latest/guide/release-notes/4.2/index.html">Version 4.2</a></strong> - December 2016</li><li><strong><a href="../../../../latest/guide/release-notes/4.1/index.html">Version 4.1</a></strong> - September 2016</li><li><strong><a href="../../../../latest/guide/release-notes/4.0/index.html">Version 4.0</a></strong> - May 2016</li></ul></div><p></p></div></article></main></div><div class="footnote feedback right trailer-1"><a class="icon-ui-contact hide js-feedback" href="mailto:js_feedback@esri.com?subject=Feedback%20on%204.9%20-%20guide:%20Release%20notes%20for%204.4&body=Hello,%0A%0AI%20was%20reading%20the%20ArcGIS%20API%20for%20JavaScript%20version%204.9%20documentation%20and%20have%20some%20feedback.%0A%0ADocumentation%20details:%0APage%20title:%20%7BREPLACE_TITLE%7D%0APage%20URL:%20%7BREPLACE_URL%7D%0A%0A">Feedback on this topic?</a></div></div></div><footer class="footer leader- link-dark-gray" role="contentinfo"><div class="grid-container"><nav class="column-6"><h6>ArcGIS for Developers</h6><ul class="list-plain"><li><a href="/">Home</a></li><li><a href="/features/">Features</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/support/">Support</a></li><li><a href="/pricing/">Pricing</a></li><li><a href="/startups/">Startups</a></li><li><a href="https://blogs.esri.com/esri/arcgis/category/developer/">Blog</a></li></ul></nav><nav class="column-6"><h6>ArcGIS Platform</h6><ul class="list-plain"><li><a href="http://arcgis.com">ArcGIS Online</a></li><li><a href="http://desktop.arcgis.com">ArcGIS Desktop</a></li><li><a href="http://server.arcgis.com">ArcGIS Enterprise</a></li><li><a href="http://developers.arcgis.com">ArcGIS for Developers</a></li><li><a href="http://solutions.arcgis.com">ArcGIS Solutions</a></li><li><a href="http://marketplace.arcgis.com">ArcGIS Marketplace</a></li></ul></nav><nav class="column-6"><h6>About Esri</h6><ul class="list-plain"><li><a href="http://www.esri.com/about-esri/">About Us</a></li><li><a href="http://www.esri.com/careers/">Careers</a></li><li><a href="https://blogs.esri.com/esri/esri-insider/">Insiders Blog</a></li><li><a href="http://www.esri.com/events/user-conference/index.html">User Conference</a></li><li><a href="http://www.esri.com/events/devsummit/index.html">Developer Summit</a></li></ul></nav><nav class="column-6"><a class="esri-logo" href="http://esri.com" aria-label="Esri Home"></a><div class="footer-social-nav leader-1"><a class="icon-social-twitter" aria-label="Esri on Twitter" href="https://twitter.com/Esri/"></a> <a class="icon-social-facebook" aria-label="Esri on Facebook" href="https://www.facebook.com/esrigis/"></a> <a class="icon-social-github" aria-label="Esri on GitHub" href="http://esri.github.com/"></a> <a class="icon-social-contact" aria-label="Contact Esri" href="http://www.esri.com/about-esri/contact/"></a></div></nav><div class="column-24 leader-1"><p><small><a href="http://www.esri.com/legal/copyright-trademarks">Copyright  2018 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="http://www.esri.com/legal/software-license">Terms of use</a> | <a href="/terms/faq/">FAQ</a></small></p></div></div></footer><script></script><script>var relativePath=document.URL.replace(/[-\w\d]*\.(html|css|js).*/,"../../../..")</script><script src="../../../../assets/js/config.js"></script><script src="../../../../assets/js/preparse.js"></script><div class="js-modal modal-overlay modifier-class" data-modal="modal-keyboard-shortcuts"><div class="modal-content column-8" aria-label="modal" role="dialog"><a class="js-modal-toggle right" href="#" aria-label="close-modal"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 32 32" class="svg-icon"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg></a><h4>Keyboard shortcuts</h4><hr class="leader-0 trailer-half"><div><table class="table-plain keyboard-mappings"><thead><tr><th></th><th>Site wide shortcuts</th></tr></thead><tbody><tr><td><kbd>?</kbd></td><td>Bring up this help dialog</td></tr><tr><td><kbd>esc</kbd></td><td>Dismiss this help dialog</td></tr><tr><td><kbd>g</kbd><kbd>h</kbd></td><td>Go to Home</td></tr><tr><td><kbd>g</kbd><kbd>g</kbd></td><td>Go to Guide</td></tr><tr><td><kbd>g</kbd><kbd>a</kbd></td><td>Go to API Reference</td></tr><tr><td><kbd>g</kbd><kbd>s</kbd></td><td>Go to Sample Code</td></tr><tr><td><kbd>g</kbd><kbd>t</kbd></td><td>Scroll to top of page</td></tr><tr><td><kbd>spacebar</kbd></td><td>Scroll page down</td></tr><tr><td><kbd>shift spacebar</kbd></td><td>Scroll page up</td></tr><tr><td><kbd>g</kbd><kbd>b</kbd></td><td>Scroll to bottom of page</td></tr></tbody></table></div></div></div><script src="../../../../assets/js/libs/url-search-params.js"></script><script src="../../../../assets/js/calcite-web.js"></script><script src="../../../../assets/js/calcite-web-extend.js"></script><script src="../../../../assets/js/libs/mousetrap.js"></script><script>"function"==typeof Mousetrap&&"object"==typeof calcite&&"function"==typeof Mousetrap&&"object"==typeof calcite&&Mousetrap.bind(["g h","g g","g a","g s","?","g t","g b"],function(e,t){calcite.bus.emit("keyboard:mousetrap",{event:e,combination:t,navigation:{h:"../../../../index.html",g:"../../../../latest/guide/index.html",a:"../../../../latest/api-reference/index.html",s:"../../../../latest/sample-code/index.html"}})})</script></body></html>